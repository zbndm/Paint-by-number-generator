{"version":3,"sources":["i18n/translate.js","i18n/locales.js","i18n/messages/en-US.js","i18n/messages/ru-RU.js","i18n/messages/index.js","i18n/provider.js","reducers/languageReducer.js","components/ToggleSwitch/ToggleSwitch.js","firebase.js","components/DropdownMenu.js","icons/caret.svg","components/Header.js","components/Layout.js","pages/Home.js","Converter.js","components/ColoringPicture/palette.js","images/undo.png","components/ColoringPicture/index.js","pages/Authentication/Authorization.js","pages/Authentication/Registration.js","components/MyImage.js","responsive.js","pages/Cart.jsx","components/MyProfile.jsx","components/ReestablishPassword.jsx","components/Info.js","components/CheckoutForm.jsx","pages/Payment.jsx","components/MyOrders.js","App.js","reducers/index.js","index.js","components/Header.module.scss"],"names":["translate","id","value","values","LOCALES","projectName","generator","coloringPicture","shoppingCart","myProfile","desctiptionProject","inputFile","inputFile1","exampleImages","trivial","small","medium","input","options","resizeImage","resizeImageInfo","width","height","numberOfColors","numberOfColorsInfo","clusterPrecision","clusterPrecisionInfo","randomSeed","randomSeedInfo","clusteringColorSpace","clusteringColorSpaceInfo","restrictClusteringColors","restrictClusteringColorsInfo","numberOfRuns","numberOfRunsInfo","removeSmallFacets","removeSmallFacetsInfo","maximumNumberOfFacets","maximumNumberOfFacetsInfo","smallFacetRemovalOrder","smallFacetRemovalOrderInfo","largestToSmallest","smallestToLargest","amountOfTimes","amountOfTimesInfo","processImage","kMeansClustering","facetBuilding","smallFacetPruning","borderDetection","borderSegmentation","labelPlacement","SVGGeneration","quantizedImage","facetReduction","borderTracing","output","log","SVGRenderOptions","showLabels","fillFacets","showBorders","SVGSizeMultiplier","SVGSizeMultiplierInfo","labelFontSize","labelFontSizeInfo","labelFontColor","labelFontColorInfo","downloadSVG","downloadPNG","downloadPalette","saveInProfile","currentColor","loadLatestImage","savePictureInMyPicture","pictureName","save","imageNotLoaded","cart","name","size","sm","delete","cartLoading","order","quantityProduct","totalPrice","ordering","myPictures","myOrders","authorization","registration","helpAboutTheProgram","exit","myAccount","mail","editPassword","editPassText","lastPassword","newPassword","updatePassword","restorePassword","edit","sizes","addToCart","coloring","loadPictures","loadOrders","info1","info2","info3","info4","info5","info6","info7","info8","password","logIn","register","en","ru","Provider","children","locale","textComponent","Fragment","messages","SET_LANGUAGE","defaultState","language","setLanguage","type","payload","ToggleSwitch","label","useSelector","state","repos","React","useState","checked","setChecked","dispatch","useDispatch","className","onChange","localStorage","setItem","htmlFor","auth","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","getDatabase","getAuth","signup","email","passsword","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","useAuth","currentUser","setCurrentUser","useEffect","onAuthStateChanged","user","DropdownMenu","_path","activeMenu","setActiveMenu","dropdownRef","useRef","DropdownItem","props","onClick","goToMenu","leftIcon","rightIcon","setMenuOpen","menuToggleHandler","p","setLoading","alert","getItem","ref","CSSTransition","in","timeout","classNames","unmountOnExit","to","_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCaret","_ref","svgRef","title","titleId","viewBox","d","ForwardRef","Header","menuOpen","undefined","setSize","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","open","setOpen","NavItem","text","icon","classes","header","header__content","header__content__logo","header__content__nav","isMenu","href","header__content__toggle","Layout","container","Home","class","src","alt","tooltip","idTooltip","place","effect","Converter","history","useHistory","checked1","setChecked1","checked2","setChecked2","checked3","setChecked3","checked4","setChecked4","checked5","setChecked5","checked6","setChecked6","checked7","setChecked7","checked8","setChecked8","push","prompt","db","pictureListRef","newPictureRef","fetch","then","r","blob","reader","FileReader","readAsDataURL","onloadend","base64data","result","set","userUID","uid","pallete","JSON","parse","pictureImage","cleanPicture","activeSize","accept","crossOrigin","style","display","marginTop","defaultValue","min","step","placeholder","max","Button","Palette","chosenColor","swatchClick","undoMove","colour","setState","onSelectColor","onUndoMove","onPallete","map","index","backgroundColor","Component","ColoringPicture","standartPallete","getPicture","event","files","picture","URL","createObjectURL","img","Image","onload","imageLoaded","colors","pictureId","myRef","createRef","inputValue","userUid","dbRef","get","child","snapshot","exists","val","console","catch","error","handleColor","convertHexToRGB","handleFilling","floodFill","removeEvent","savePicture","handleName","loadTheLastPalleteAndPicture","updateInputValue","dataURI","byteString","atob","split","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","Blob","g","b","toString","slice","svgUrl","rgb2hex","removeItem","onerror","canvas","toDataURL","dataURL","link","document","createElement","download","click","color","hex","R","parseInt","cutHex","substring","hexToR","G","hexToG","B","hexToB","charAt","x","nativeEvent","layerX","y","layerY","newEvent","events","rest","ctx","fillColor","range","getPixel","imageData","offset","data","setPixel","colorsMatch","a","rangeSq","dr","dg","da","getImageData","visited","targetColor","pixelsToCheck","pop","putImageData","bgColor","globalAlpha","setTransform","filter","globalCompositeOperation","fillStyle","fillRect","restore","current","getContext","fillAlpha","drawImage","forEach","e","marginLeft","Authorization","emailRef","passwordRef","loading","action","required","minlength","maxlength","disabled","Registration","Myimage","availableSizes","picturesList","setPicturesList","ImageItem","marginRight","pictureRef","removePicture","pictureData","updates","update","editPicture","onSelectSize","active","includes","quantity","price","fill","xmlns","colorizePicture","onValue","pictures","mobile","css","Container","styled","div","Wrapper","padding","Title","h1","Bottom","flexDirection","Info","Product","ProductDetail","Details","ProductName","span","ProductColor","ProductSize","PriceDetail","ProductAmountContainer","ProductAmount","margin","ProductPrice","marginBottom","Hr","hr","Summary","SummaryTitle","SummaryItem","SummaryItemText","SummaryItemPrice","button","ButtonDelete","Cart","setTotalPrice","quantityPictures","setQuantityPictures","reduce","sum","elem","flexWrap","FiMinusCircle","decreaseInQuantity","FiPlusCircle","increaseInQuantity","Title1","Agreement","MyProfile","setLastPassword","setNewPassword","minWidth","credential","EmailAuthProvider","reauthenticateWithCredential","resetPassword","sendPasswordResetEmail","ReestablishPassword","setEmail","Form","form","CheckoutForm","stripe","useStripe","elements","useElements","message","setMessage","isLoading","setIsLoading","clientSecret","URLSearchParams","location","search","retrievePaymentIntent","paymentIntent","status","handleSubmit","preventDefault","confirmPayment","confirmParams","return_url","receipt_email","onSubmit","date","Date","orderDate","String","getDate","padStart","getMonth","getFullYear","Body","stripePromise","loadStripe","Payment","setClientSecret","method","headers","body","stringify","items","res","json","appearance","theme","MyOrders","pictureRef1","pictures1","picturesList1","pictureRef2","App","path","exact","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","getElementById","module","exports"],"mappings":"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","file":"static/js/main.bd34a809.chunk.js","sourcesContent":["import React from \"react\";\nimport { FormattedMessage } from \"react-intl\";\n\nconst translate = (id, value={}) => <FormattedMessage id={id} values={{...value}} />\n\nexport default translate;","export const LOCALES = {\n    ENGLISH: 'en-us',\n    RUSSIAN: 'ru-ru'\n};","import { LOCALES } from \"../locales\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  [LOCALES.ENGLISH]: {\n    //Header\n    projectName: \"Paint by number generator\",\n    generator: \"Gererator\",\n    coloringPicture: \"Coloring picture\",\n    shoppingCart: \"Shopping cart\",\n    myProfile: \"My profile\",\n\n    //Home\n    desctiptionProject: \"Create and color pictures by numbers online\",\n\n    //Generator\n    inputFile:\n      \"Paste from clipboard (ctrl+v) to change the image (or browse for a file\",\n    inputFile1: \". Large images are very slow to process though.\",\n    exampleImages: \"Example images:\",\n    trivial: \"trivial\",\n    small: \"small\",\n    medium: \"medium\",\n    input: \"Input\",\n    options: \"Options\",\n    resizeImage: \"Resize image larger than\",\n    resizeImageInfo:\n      \"If checked and the input image is larger than the given dimensions then it will be resized to fit but will maintain its ratio.\",\n    width: \"width\",\n    height: \"height\",\n    numberOfColors: \"Number of colors\",\n    numberOfColorsInfo: \"The number of colors to quantize the image to\",\n    clusterPrecision: \"Cluster precision\",\n    clusterPrecisionInfo:\n      \"The threshold delta distance of the k-means clustering to reach before stopping. Having a bigger value will speed up the clustering but may yield suboptimal clusters.\",\n    randomSeed: \"Random seed\",\n    randomSeedInfo:\n      \"The seed to use for the random number generator to choose the initial centroids for k-means clusering. Using the same seed ensures you will get the same result every time.\",\n    clusteringColorSpace: \"Clustering color space\",\n    clusteringColorSpaceInfo: \"The color space to apply clustering in\",\n    restrictClusteringColors: \"Restrict clustering colors\",\n    restrictClusteringColorsInfo:\n      'Specify which colors should be used, one per line in \"r,g,b\" format. Use // as comment. If no colors are specified no restrictions are applied. Useful if you only have a few colors of paint on hand.',\n    numberOfRuns: \"Number of runs for narrow pixel cleanup\",\n    numberOfRunsInfo:\n      \"Narrow pixel cleanup removes strips of single pixel rows, which would make some facets have some borders segments that are way too narrow to be useful. The small facet removal can introduce new narrow pixel strips, so this is repeated in a few iterative runs.\",\n    removeSmallFacets: \"Remove small facets smaller than (pixels)\",\n    removeSmallFacetsInfo:\n      \"Removes any facets that are smaller than the given amount of pixels. Lowering the value will create more detailed results but might be much harder to actually paint due to their size.\",\n    maximumNumberOfFacets: \"Maximum number of facets\",\n    maximumNumberOfFacetsInfo:\n      \"If there are more facets than the given maximum number, keep removing the smallest facets until the limit is reached\",\n    smallFacetRemovalOrder: \"Small facet removal order\",\n    smallFacetRemovalOrderInfo:\n      \"Largest to smallest will prevent boundaries from warping the shapes because the smaller facets act as border anchorpoints but can be considerably slower\",\n    largestToSmallest: \"Largest to smallest\",\n    smallestToLargest: \"Smallest to largest\",\n    amountOfTimes: \"Amount of times to halve border segment complexity\",\n    amountOfTimesInfo:\n      \"Reducing the amount of points in a border segment (using haar wavelet reduction) will smooth out the quadratic curve more but at a loss of detail. <br/>A segment (shared border with a facet) will always retain its start and end point.\",\n    processImage: \"Process image\",\n    kMeansClustering: \"K-means clustering\",\n    facetBuilding: \"Facet building\",\n    smallFacetPruning: \"Small facet pruning\",\n    borderDetection: \"Border detection\",\n    borderSegmentation: \"Border segmentation\",\n    labelPlacement: \"Label placement\",\n    SVGGeneration: \"SVG generation\",\n    quantizedImage: \"Quantized image\",\n    facetReduction: \"Facet reduction\",\n    borderTracing: \"Border tracing\",\n    output: \"Output\",\n    log: \"Log\",\n    SVGRenderOptions: \"SVG Render options\",\n    showLabels: \"Show labels\",\n    fillFacets: \"Fill facets\",\n    showBorders: \"Show borders\",\n    SVGSizeMultiplier: \"SVG size multiplier\",\n    SVGSizeMultiplierInfo:\n      \"Increases the SVG size compared to the original image, useful when the labels do not fit inside the tiny segments\",\n    labelFontSize: \"Label font size\",\n    labelFontSizeInfo:\n      \"Font size of the color number labels in each facet, in percentage relative to the largest circle found inside a facet.\",\n    labelFontColor: \"Label font color\",\n    labelFontColorInfo: \"Font color of the color number labels in each facet\",\n    downloadSVG: \"Download SVG\",\n    downloadPNG: \"Download PNG\",\n    downloadPalette: \"Download palette\",\n    saveInProfile: \"Save in profile\",\n\n    //Coloring picture\n    currentColor: \"Current Color\",\n    loadLatestImage: \"Load latest image\",\n    savePictureInMyPicture: \"Save picture to my pictures\",\n    pictureName: \"Picture name\",\n    save: \"Save picture\",\n    imageNotLoaded: \"Image not loaded!\",\n\n    //Shopping cart\n    cart: \"Cart\",\n    name: \"Name\",\n    size: \"Size(diagonal)\",\n    sm: \"cm\",\n    delete: \"Delete\",\n    cartLoading: \"Cart is loading\",\n    order: \"Order\",\n    quantityProduct: \"Quantity of goods\",\n    totalPrice: \"Total price\",\n    ordering: \"Order\",\n\n    //Dropdown menu\n    myPictures: \"My pictures\",\n    myOrders: \"My orders\",\n    authorization: \"Authorization\",\n    registration: \"Registration\",\n    helpAboutTheProgram: \"Help about the program\",\n    exit: \"Exit\",\n\n    //My profile\n    myAccount: \"My account\",\n    mail: \"Mail\",\n    editPassword: \"Change password\",\n    editPassText: \"To change the password, you must enter the old password\",\n    lastPassword: \"Last password\",\n    newPassword: \"New password\",\n    updatePassword: \"Update password\",\n    restorePassword: \"Restore password\",\n\n    //My images\n    edit: \"Edit\",\n    sizes: \"Canvas size(diagonal)\",\n    addToCart: \"Add to cart\",\n    coloring: \"Colorize\",\n    loadPictures: \"Pictures are loading or not found\",\n    loadOrders: \"Orders are loading or not found\",\n\n    //Info\n    info1: \"Web application for creating pictures by numbers.\",\n    info2: \"Developer: Fomov Maxim Alexandrovich, student of group 38TP.\",\n    info3: \"The project was developed as part of a graduation project.\",\n    info4: \"This project considers the following main functions:\",\n    info5: \"Generation of a picture by numbers\",\n    info6: \"Coloring a picture by numbers\",\n    info7: \"Ordering a painting by numbers and palettes of colors\",\n    info8: \"Switch language\",\n\n    //Authorization\n    password: \"Password\",\n    logIn: \"Log in\",\n\n    //Registration\n    register: \"Register\",\n  },\n};\n","import { LOCALES } from \"../locales\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  [LOCALES.RUSSIAN]: {\n    //Header\n    projectName: \"Генератор картин по номерам\",\n    generator: \"Генератор\",\n    coloringPicture: \"Раскрашивание картины\",\n    shoppingCart: \"Корзина товаров\",\n    myProfile: \"Мой профиль\",\n\n    //Home\n    desctiptionProject: \"Создавай и раскрашивай картины по номерам онлайн\",\n\n    //Generator\n    inputFile:\n      \"Вставить из буфера обмена (ctrl + v), чтобы изменить изображение (или выберите файл\",\n    inputFile1: \". Большие изображения обрабатываются медленно.\",\n    exampleImages: \"Изображения для примера:\",\n    trivial: \"простое изображение\",\n    small: \"обычное изображение\",\n    medium: \"сложное изображение\",\n    input: \"Изображение\",\n    options: \"Настройки\",\n    resizeImage: \"Изменить размер фото\",\n    resizeImageInfo:\n      \"Если этот флажок установлен, а входное изображение больше заданных размеров, оно будет изменено по размеру, но сохранит свое соотношение.\",\n    width: \"ширина\",\n    height: \"высота\",\n    numberOfColors: \"Кол-во цветов\",\n    numberOfColorsInfo: \"Количество цветов для квантования изображения\",\n    clusterPrecision: \"Точность\",\n    clusterPrecisionInfo:\n      \"Пороговое дельта-расстояние кластеризации k-средних, которое необходимо достичь перед остановкой. Более высокое значение ускорит кластеризацию, но может привести к неоптимальным кластерам.\",\n    randomSeed: \"Случайность\",\n    randomSeedInfo:\n      \"Начальное число, используемое для генератора случайных чисел, чтобы выбрать начальные центроиды для определения k-средних. Использование одного и того же семени гарантирует, что вы всегда будете получать один и тот же результат.\",\n    clusteringColorSpace: \"Кластеризация цветов\",\n    clusteringColorSpaceInfo:\n      \"Цветовое пространство для применения кластеризации\",\n    restrictClusteringColors: \"Ограничить цвета кластеризации\",\n    restrictClusteringColorsInfo:\n      \"Укажите, какие цвета следует использовать, по одному в строке в формате «r, g, b». Используйте // как комментарий. Если цвета не указаны, ограничения не применяются. Полезно, если у вас под рукой всего несколько цветов краски.\",\n    numberOfRuns: \"Кол-во прогонов для очистки пикселей\",\n    numberOfRunsInfo:\n      \"Очистка узких пикселей удаляет полосы из одиночных строк пикселей, из-за чего некоторые грани имеют слишком узкие сегменты границ, чтобы их можно было использовать. Удаление небольших граней может привести к появлению новых узких полос пикселей, поэтому это повторяется в нескольких итерациях.\",\n    removeSmallFacets: \"Удалить мелкие грани\",\n    removeSmallFacetsInfo:\n      \"Удаляет все грани, размер которых меньше заданного количества пикселей. Уменьшение значения приведет к получению более подробных результатов, но на самом деле рисовать будет намного сложнее из-за их размера.\",\n    maximumNumberOfFacets: \"Максимальное количество граней\",\n    maximumNumberOfFacetsInfo:\n      \"Если имеется больше граней, чем заданное максимальное количество, продолжается удаление самых маленькиех граней, пока не будет достигнут предел.\",\n    smallFacetRemovalOrder: \"Порядок удаления мелких граней\",\n    smallFacetRemovalOrderInfo:\n      \"От наибольшего к наименьшему предотвратит искривление границ форм, поскольку более мелкие грани действуют как точки привязки границ, но могут быть значительно медленнее.\",\n    largestToSmallest: \"От наибольшего к наименьшему\",\n    smallestToLargest: \"От наименьшего к наибольшему\",\n    amountOfTimes: \"Количество раз, чтобы разделить сегмент границы\",\n    amountOfTimesInfo:\n      \"Уменьшение количества точек в граничном сегменте (с помощью сокращения вейвлета Хаара) сгладит квадратичную кривую больше, но с потерей деталей. <br/> Сегмент (общая граница с фасетом) всегда сохраняет свою начальную и конечную точки.\",\n    processImage: \"Генерация картины\",\n    kMeansClustering: \"К-средство кластеризации\",\n    facetBuilding: \"Создание границ\",\n    smallFacetPruning: \"Обрезка мелких границ\",\n    borderDetection: \"Обнаружение границы\",\n    borderSegmentation: \"Сегментация границ\",\n    labelPlacement: \"Размещение метки\",\n    SVGGeneration: \"Генерация SVG\",\n    quantizedImage: \"Квантование изображения\",\n    facetReduction: \"Уменьшение границ\",\n    borderTracing: \"Отслеживание границ\",\n    output: \"Вывод\",\n    log: \"Журнал\",\n    SVGRenderOptions: \"Параметры рендеринга SVG\",\n    showLabels: \"Показать номера\",\n    fillFacets: \"Залить границы\",\n    showBorders: \"Показать границы\",\n    SVGSizeMultiplier: \"Размер SVG\",\n    SVGSizeMultiplierInfo:\n      \"Увеличивает размер SVG по сравнению с исходным изображением, полезно, когда метки не помещаются внутри крошечных сегментов.\",\n    labelFontSize: \"Размер шрифта цифр\",\n    labelFontSizeInfo:\n      \"Размер шрифта меток числа цветов в каждой границе в процентах относительно самого большого круга внутри границы.\",\n    labelFontColor: \"Цвет шрифта цифр\",\n    labelFontColorInfo: \"Цвет шрифта меток числа цветов в каждой границе\",\n    downloadSVG: \"Скачать SVG\",\n    downloadPNG: \"Скачать PNG\",\n    downloadPalette: \"Скачать палитру\",\n    saveInProfile: \"Сохранить в профиль\",\n\n    //Coloring picture\n    currentColor: \"Текущий цвет\",\n    loadLatestImage: \"Загрузить последнее изображение\",\n    savePictureInMyPicture: \"Сохранить картинку в мои картинки\",\n    pictureName: \"Имя изображения\",\n    save: \"Сохранить картинку на компьютер\",\n    imageNotLoaded: \"Изображение не загружено!\",\n\n    //Shopping cart\n    cart: \"Корзина\",\n    name: \"Имя\",\n    size: \"Размер(диагональ)\",\n    sm: \"см\",\n    delete: \"Удалить\",\n    cartLoading: \"Корзина загружается\",\n    order: \"Заказ\",\n    quantityProduct: \"Количество товаров\",\n    totalPrice: \"Общая стоимость\",\n    ordering: \"Заказать\",\n\n    //Dropdown menu\n    myPictures: \"Мои картины\",\n    myOrders: \"Мои заказы\",\n    authorization: \"Авторизация\",\n    registration: \"Регистрация\",\n    helpAboutTheProgram: \"Справка о программе\",\n    exit: \"Выйти\",\n\n    //My profile\n    myAccount: \"Мой аккаунт\",\n    mail: \"Почта\",\n    editPassword: \"Смена пароля\",\n    editPassText: \"Для смены пароля необходимо ввести старый пароль\",\n    lastPassword: \"Старый пароль\",\n    newPassword: \"Новый пароль\",\n    updatePassword: \"Обновить данные\",\n    restorePassword: \"Восстановить пароль\",\n\n    //My images\n    edit: \"Изменить\",\n    sizes: \"Размер холста(диагональ)\",\n    addToCart: \"Добавить в корзину\",\n    coloring: \"Раскрасить\",\n    loadPictures: \"Картины загружаются или не найдены\",\n    loadOrders: \"Заказы загружаются или не найдены\",\n\n    //Info\n    info1: \"Веб-приложения для создания картин по номерам.\",\n    info2: \"Разработчик: Фомов Максим Александрович, учащийся группы 38ТП.\",\n    info3: \"Проект был разработан в рамках дипломного проектирования.\",\n    info4: \"Данный проект предусматривает следующие основные функции:\",\n    info5: \"Генерация картины по номерам\",\n    info6: \"Раскрашивание картины по номерам\",\n    info7: \"Заказ картины по номерам и палитры красок\",\n    info8: \"Смена языка\",\n\n    //Authorization\n    password: \"Пароль\",\n    logIn: \"Авторизоваться\",\n\n    //Registration\n    register: \"Зарегистрироваться\",\n  },\n};\n","import en from './en-US';\nimport ru from './ru-RU';\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n    ...en,\n    ...ru,\n}","import React, {Fragment} from \"react\";\nimport { IntlProvider } from \"react-intl\";\n\nimport { LOCALES } from \"./locales\";\nimport messages from \"./messages\";\n\nconst Provider = ({children, locale = LOCALES.RUSSIAN}) => (\n    <IntlProvider\n      locale={locale}\n      textComponent={Fragment}\n      messages={messages[locale]}\n    >\n    {children}\n    </IntlProvider>\n);\n\nexport default Provider","import { LOCALES } from \"../i18n\";\n\nconst SET_LANGUAGE = \"SET_LANGUAGE\";\n\nconst defaultState = {\n  language: LOCALES.RUSSIAN,\n};\n\nexport default function reposReducer(state = defaultState, action) {\n  switch (action.type) {\n    case SET_LANGUAGE:\n      return {\n        ...state,\n        language: action.payload,\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport const setLanguage = (language) => ({\n  type: SET_LANGUAGE,\n  payload: language,\n});\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { LOCALES } from \"../../i18n\";\nimport { useDispatch } from \"react-redux\";\nimport { setLanguage } from \"../../reducers/languageReducer\";\nimport \"./ToggleSwitch.css\";\n\nconst ToggleSwitch = ({ label }) => {\n  var language =\n    useSelector((state) => state.repos.language) === LOCALES.ENGLISH\n      ? false\n      : true;\n\t  \n  const [checked, setChecked] = React.useState(language);\n\n  const dispatch = useDispatch();\n\n  const setLanguages = () => {\n    setChecked(!checked);\n\n    if (checked) {\n      dispatch(setLanguage(LOCALES.ENGLISH));\n      localStorage.setItem(\"language\", LOCALES.ENGLISH);\n    } else {\n      dispatch(setLanguage(LOCALES.RUSSIAN));\n      localStorage.setItem(\"language\", LOCALES.RUSSIAN);\n    }\n  };\n\n  return (\n    <div className=\"container1\">\n      {label}{\" \"}\n      <div className=\"toggle-switch\">\n        <input\n          type=\"checkbox\"\n          className=\"checkbox\"\n          name={label}\n          id={label}\n          checked={checked}\n          onChange={setLanguages}\n        />\n        <label className=\"label\" htmlFor={label}>\n          <span className=\"inner\" />\n          <span className=\"switch\" />\n        </label>\n      </div>\n    </div>\n  );\n};\n\nexport default ToggleSwitch;\n","import { useEffect, useState } from \"react\";\n// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getDatabase } from \"firebase/database\";\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n  signInWithEmailAndPassword,\n} from \"firebase/auth\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD3e0O_H0Rw5JbLII2VWMyGkFSTnksNmJg\",\n  authDomain: \"w-2-b.firebaseapp.com\",\n  databaseURL: \"https://w-2-b.firebaseio.com\",\n  projectId: \"w-2--b\",\n  storageBucket: \"w-2--b.appspot.com\",\n  messagingSenderId: \"162546338092\",\n  appId: \"1:162546338092:web:10f397f2dc70b7cfa2c489\",\n  measurementId: \"G-9E29PK134T\"\n};\n\n// Initialize Firebase\n// eslint-disable-next-line no-unused-vars\nconst app = initializeApp(firebaseConfig);\n\n// eslint-disable-next-line no-unused-vars\nconst database = getDatabase();\n\n// eslint-disable-next-line no-unused-vars\nconst auth = getAuth();\n\nexport function signup(email, passsword) {\n  return createUserWithEmailAndPassword(auth, email, passsword);\n}\n\nexport function login(email, passsword) {\n  return signInWithEmailAndPassword(auth, email, passsword);\n}\n\nexport function logout() {\n  signOut(auth);\n}\n//Hook\nexport function useAuth() {\n  const [currentUser, setCurrentUser] = useState();\n\n  useEffect(() => {\n    const unsub = onAuthStateChanged(auth, (user) => setCurrentUser(user));\n    return unsub;\n  }, []);\n\n  return currentUser;\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport \"../styles/dropdownMenu.css\";\n\nimport React, { useState, useRef } from \"react\";\nimport { CSSTransition } from \"react-transition-group\";\nimport { Link } from \"react-router-dom\";\n\nimport { useAuth, logout } from \"../firebase\";\nimport translate from \"../i18n/translate\";\n\nfunction DropdownMenu() {\n  const currentUser = useAuth();\n\n  const [activeMenu, setActiveMenu] = useState(\"main\");\n  const dropdownRef = useRef(null);\n\n  function DropdownItem(props) {\n    return (\n      <a\n        className=\"menu-item\"\n        onClick={() => props.goToMenu && setActiveMenu(props.goToMenu)}\n      >\n        <span className=\"icon-button\">{props.leftIcon}</span>\n        {props.children}\n        <span className=\"icon-right\">{props.rightIcon}</span>\n      </a>\n    );\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  const [menuOpen, setMenuOpen] = useState(false);\n\n  const menuToggleHandler = () => {\n    setMenuOpen((p) => !p);\n  };\n\n  // eslint-disable-next-line no-unused-vars\n  const [loading, setLoading] = useState(false);\n\n  async function handleLogout() {\n    setLoading(true);\n    try {\n      await logout();\n    } catch {\n      alert(localStorage.getItem(\"language\") === \"ru-ru\" ? \"Ошибка\" : \"Error\");\n    }\n    setLoading(false);\n  }\n\n  return (\n    <div className=\"dropdown\" ref={dropdownRef}>\n      <CSSTransition\n        in={activeMenu === \"main\"}\n        timeout={500}\n        classNames=\"menu-primary\"\n        unmountOnExit\n      >\n        <div className=\"menu\">\n          {currentUser != null ? (\n            <DropdownItem>\n              <Link to=\"/profile\" onClick={menuToggleHandler}>\n                {currentUser.email}\n              </Link>\n            </DropdownItem>\n          ) : null}\n          {currentUser != null ? (\n            <DropdownItem>\n              <Link to=\"/my-image\" onClick={menuToggleHandler}>\n                {translate(\"myPictures\")}\n              </Link>\n            </DropdownItem>\n          ) : null}\n          {currentUser != null ? (\n            <DropdownItem>\n              <Link to=\"/my-orders\" onClick={menuToggleHandler}>\n                {translate(\"myOrders\")}\n              </Link>\n            </DropdownItem>\n          ) : null}\n          {currentUser == null ? (\n            <DropdownItem>\n              <Link to=\"/authorization\" onClick={menuToggleHandler}>\n                {translate(\"authorization\")}\n              </Link>\n            </DropdownItem>\n          ) : null}\n          {currentUser == null ? (\n            <DropdownItem>\n              <Link to=\"/registration\" onClick={menuToggleHandler}>\n                {translate(\"registration\")}\n              </Link>\n            </DropdownItem>\n          ) : null}\n          <DropdownItem>\n            <Link to=\"/info\" onClick={menuToggleHandler}>\n              {translate(\"helpAboutTheProgram\")}\n            </Link>\n          </DropdownItem>\n          {currentUser != null ? (\n            <DropdownItem>\n              <Link onClick={handleLogout}>{translate(\"exit\")}</Link>\n            </DropdownItem>\n          ) : null}\n        </div>\n      </CSSTransition>\n    </div>\n  );\n}\n\nexport default DropdownMenu;\n","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgCaret(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 320 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z\",\n    className: \"\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCaret);\nexport default __webpack_public_path__ + \"static/media/caret.17f0a4fb.svg\";\nexport { ForwardRef as ReactComponent };","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\";\nimport { BiMenuAltRight } from \"react-icons/bi\";\nimport { AiOutlineClose } from \"react-icons/ai\";\nimport classes from \"./Header.module.scss\";\nimport { Link } from \"react-router-dom\";\nimport translate from \"../i18n/translate\";\nimport ToggleSwitch from \"../components/ToggleSwitch/ToggleSwitch\";\nimport DropdownMenu from \"./DropdownMenu\";\nimport { ReactComponent as CaretIcon } from \"../icons/caret.svg\";\nimport \"../styles/dropdownMenu.css\";\n\nconst Header = () => {\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [size, setSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    const handleResize = () => {\n      setSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  useEffect(() => {\n    if (size.width > 768 && menuOpen) {\n      setMenuOpen(false);\n    }\n  }, [size.width, menuOpen]);\n\n  const menuToggleHandler = () => {\n    setMenuOpen((p) => !p);\n  };\n\n  const [open, setOpen] = useState(false);\n  function NavItem(props) {\n    return (\n      <li className=\"nav-item\">\n        {props.text}\n        <a className=\"icon-button\" onClick={() => setOpen(!open)}>\n          {props.icon}\n        </a>\n        {open && props.children}\n      </li>\n    );\n  }\n\n  return (\n    <header className={classes.header}>\n      <div className={classes.header__content}>\n        <Link to=\"/\" className={classes.header__content__logo}>\n          {translate(\"projectName\")}\n        </Link>\n        <nav\n          className={`${classes.header__content__nav} ${\n            menuOpen && size.width < 768 ? classes.isMenu : \"\"\n          }`}\n        >\n          <ul>\n            <li>\n              <a href=\"/converter\" onClick={menuToggleHandler}>\n                {translate(\"generator\")}\n              </a>\n            </li>\n            <li>\n              <Link to=\"/сoloring-a-picture\" onClick={menuToggleHandler}>\n                {translate(\"coloringPicture\")}\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/shopping-cart\" onClick={menuToggleHandler}>\n                {translate(\"shoppingCart\")}\n              </Link>\n            </li>\n          </ul>\n          <NavItem text={translate(\"myProfile\")} icon={<CaretIcon />}>\n            <DropdownMenu />\n          </NavItem>\n          <ToggleSwitch label=\" \" />\n        </nav>\n        <div className={classes.header__content__toggle}>\n          {!menuOpen ? (\n            <BiMenuAltRight onClick={menuToggleHandler} />\n          ) : (\n            <AiOutlineClose onClick={menuToggleHandler} />\n          )}\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport Header from \"./Header\";\n\nimport classes from \"./Layout.module.scss\";\n\nconst Layout = ({ children }) => {\n    return (\n        <>\n            <Header />\n            <div className={classes.container}>{children}</div>\n        </>\n    );\n};\n\nexport default Layout;\n","import React from \"react\";\nimport \"../styles/homePage.css\";\nimport translate from \"../i18n/translate\";\n\nconst Home = () => {\n  return (\n    <div className=\"container1\">\n      <br />\n      <br />\n      <div class=\"site-hero\">\n        <div class=\"big-title uppercase montserrat-text\">\n          {translate(\"projectName\")}\n        </div>\n        <h5>{translate(\"desctiptionProject\")}</h5>\n        <br/>\n        <img src=\"https://i.ibb.co/ZzHYGkd/image.png\" alt=\"\"></img>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import \"./styles/lib/materialize.min.css\";\nimport \"./styles/main.css\";\nimport { useHistory } from \"react-router-dom\";\nimport ReactTooltip from \"react-tooltip\";\nimport React from \"react\";\nimport translate from \"./i18n/translate\";\nimport { useAuth } from \"./firebase\";\nimport { getDatabase, ref, push, set } from \"firebase/database\";\nimport { Button } from \"react-bootstrap\";\n\nconst tooltip = (idTooltip) => {\n  return (\n    <ReactTooltip id={idTooltip} place=\"bottom\" type=\"info\" effect=\"solid\">\n      <span>{translate(idTooltip + \"Info\")}</span>\n    </ReactTooltip>\n  );\n};\n\nconst Converter = () => {\n  const currentUser = useAuth();\n  const history = useHistory();\n\n  const [checked, setChecked] = React.useState(true);\n  const [checked1, setChecked1] = React.useState(true);\n  const [checked2, setChecked2] = React.useState(true);\n  const [checked3, setChecked3] = React.useState(true);\n  const [checked4, setChecked4] = React.useState(true);\n  const [checked5, setChecked5] = React.useState(false);\n  const [checked6, setChecked6] = React.useState(false);\n  const [checked7, setChecked7] = React.useState(true);\n  const [checked8, setChecked8] = React.useState(false);\n\n  async function savePicture() {\n    if (currentUser === null) {\n      history.push(\"/authorization\");\n    } else {\n      try {\n        const pictureName = prompt(\n          localStorage.getItem(\"language\") === \"ru-ru\"\n            ? \"Введите название картинки\"\n            : \"Enter the name of the picture\"\n        );\n\n        if (pictureName) {\n          const db = getDatabase();\n          const pictureListRef = ref(db, \"pictures\");\n          const newPictureRef = push(pictureListRef);\n\n          let blob = await fetch(localStorage.getItem(\"lastPictureImg\")).then(\n            (r) => r.blob()\n          );\n          var reader = new FileReader();\n          reader.readAsDataURL(blob);\n          reader.onloadend = function () {\n            var base64data = reader.result;\n\n            set(newPictureRef, {\n              userUID: currentUser.uid,\n              pictureName: pictureName,\n              pallete: JSON.parse(localStorage.getItem(\"lastPictureColors\")),\n              pictureImage: base64data,\n              cleanPicture: true,\n              activeSize: 0,\n            });\n          };\n\n          alert(\n            localStorage.getItem(\"language\") === \"ru-ru\"\n              ? \"Картинка сохранена в профиль\"\n              : \"Picture saved to profile\"\n          );\n        } else {\n          alert(\n            localStorage.getItem(\"language\") === \"ru-ru\"\n              ? \"Вы не ввели имя\"\n              : \"You didn't enter a name\"\n          );\n        }\n      } catch {\n        alert(\n          localStorage.getItem(\"language\") === \"ru-ru\"\n            ? \"Ошибка при сохранении картинки в профиль\"\n            : \"Error when saving profile picture\"\n        );\n      }\n    }\n  }\n\n  return (\n    <div className=\"Converter\">\n      <div className=\"container\">\n        <div className=\"row\">\n          <h2> </h2>\n          <span>\n            {translate(\"inputFile\")}{\" \"}\n            <input\n              id=\"file\"\n              type=\"file\"\n              accept=\"image/x-png,image/gif,image/jpeg\"\n            ></input>\n            ){translate(\"inputFile1\")}\n          </span>\n          <br />\n          <span>\n            {translate(\"exampleImages\")}\n            <a id=\"lnkTrivial\" href=\"/#\">\n              {translate(\"trivial\")}\n            </a>{\" \"}\n            -\n            <a id=\"lnkSmall\" href=\"/#\">\n              {translate(\"small\")}\n            </a>{\" \"}\n            -\n            <a id=\"lnkMedium\" href=\"/#\">\n              {translate(\"medium\")}\n            </a>\n          </span>\n        </div>\n        <div className=\"row\">\n          <div className=\"col s12\">\n            <ul className=\"tabs\">\n              <li className=\"tab col s2\">\n                <a href=\"#input-pane\">{translate(\"input\")}</a>\n              </li>\n              <li className=\"tab col s2\">\n                <a href=\"#options-pane\">{translate(\"options\")}</a>\n              </li>\n            </ul>\n          </div>\n          <div id=\"input-pane\" className=\"col s12\">\n            <canvas id=\"canvas\"></canvas>\n            <img\n              id=\"imgTrivial\"\n              alt=\"Trivial\"\n              crossOrigin=\"anonymous\"\n              src=\"https://i.imgur.com/o5CqO57.png\"\n              style={{ display: \"none\" }}\n            />\n            <img\n              id=\"imgSmall\"\n              alt=\"Small\"\n              crossOrigin=\"anonymous\"\n              src=\"https://i.imgur.com/YgYLDGP.png\"\n              style={{ display: \"none\" }}\n            />\n\n            <img\n              id=\"imgMedium\"\n              alt=\"Medium\"\n              crossOrigin=\"anonymous\"\n              src=\"https://i.imgur.com/nLeNgYbr.jpg\"\n              style={{ display: \"none\" }}\n            />\n          </div>\n\n          <div id=\"options-pane\" className=\"col s12\">\n            <ul className=\"collection\">\n              <li className=\"collection-item\">\n                <div className=\"row\">\n                  <div className=\"col s3\" style={{ marginTop: \"34px\" }}>\n                    <label>\n                      <input\n                        id=\"chkResizeImage\"\n                        type=\"checkbox\"\n                        checked={checked3}\n                        onChange={() => setChecked3(!checked3)}\n                      />\n                      <span data-tip data-for=\"resizeImage\">\n                        {translate(\"resizeImage\")}\n                        {tooltip(\"resizeImage\")}\n                      </span>\n                    </label>\n                  </div>\n                  <div className=\"col s2\">\n                    <label htmlFor=\"txtResizeWidth\">{translate(\"width\")}</label>\n                    <input\n                      id=\"txtResizeWidth\"\n                      type=\"number\"\n                      defaultValue=\"1024\"\n                      min=\"1\"\n                      className=\"validate\"\n                    />\n                  </div>\n                  <div className=\"col s2\">\n                    <label htmlFor=\"txtResizeHeight\">\n                      {translate(\"height\")}\n                    </label>\n                    <input\n                      id=\"txtResizeHeight\"\n                      type=\"number\"\n                      defaultValue=\"1024\"\n                      min=\"1\"\n                      className=\"validate\"\n                    />\n                  </div>\n                </div>\n              </li>\n              <li className=\"collection-item\">\n                <div className=\"row\">\n                  <div className=\"input-field col s2\">\n                    <input\n                      id=\"txtNrOfClusters\"\n                      type=\"number\"\n                      defaultValue=\"16\"\n                      min=\"1\"\n                      className=\"validate\"\n                    />\n                    <label\n                      htmlFor=\"txtClusterPrecision\"\n                      data-tip\n                      data-for=\"numberOfColors\"\n                    >\n                      {translate(\"numberOfColors\")}\n                      {tooltip(\"numberOfColors\")}\n                    </label>\n                  </div>\n\n                  <div className=\"input-field col s2\">\n                    <input\n                      id=\"txtClusterPrecision\"\n                      type=\"number\"\n                      defaultValue=\"1\"\n                      min=\"1\"\n                      step=\"0.05\"\n                      className=\"validate\"\n                    />\n                    <label\n                      htmlFor=\"txtClusterPrecision\"\n                      data-tip\n                      data-for=\"clusterPrecision\"\n                    >\n                      {translate(\"clusterPrecision\")}\n                      {tooltip(\"clusterPrecision\")}\n                    </label>\n                  </div>\n\n                  <div className=\"input-field col s2\">\n                    <input\n                      id=\"txtRandomSeed\"\n                      type=\"number\"\n                      defaultValue=\"0\"\n                      min=\"0\"\n                      step=\"1\"\n                      className=\"validate\"\n                    />\n                    <label\n                      htmlFor=\"txtRandomSeed\"\n                      data-tip\n                      data-for=\"randomSeed\"\n                    >\n                      {translate(\"randomSeed\")}\n                      {tooltip(\"randomSeed\")}\n                    </label>\n                  </div>\n                </div>\n              </li>\n              <li className=\"collection-item\">\n                <div className=\"row\">\n                  <div className=\"col s3\">\n                    <label data-tip data-for=\"clusteringColorSpace\">\n                      {translate(\"clusteringColorSpace\")}\n                      {tooltip(\"clusteringColorSpace\")}\n                    </label>\n                  </div>\n                  <div className=\"col s2\">\n                    <label>\n                      <input\n                        id=\"optColorSpaceRGB\"\n                        name=\"colorspace\"\n                        type=\"radio\"\n                        checked={checked4}\n                        onChange={() => setChecked4(!checked4)}\n                      />\n                      <span>RGB</span>\n                    </label>\n                  </div>\n                  <div className=\"col s2\">\n                    <label>\n                      <input\n                        id=\"optColorSpaceHSL\"\n                        name=\"colorspace\"\n                        type=\"radio\"\n                        checked={checked5}\n                        onChange={() => setChecked5(!checked5)}\n                      />\n                      <span>HSL</span>\n                    </label>\n                  </div>\n                  <div className=\"col s2\">\n                    <label>\n                      <input\n                        id=\"optColorSpaceLAB\"\n                        name=\"colorspace\"\n                        type=\"radio\"\n                        checked={checked6}\n                        onChange={() => setChecked6(!checked6)}\n                      />\n                      <span>Lab</span>\n                    </label>\n                  </div>\n\n                  <div className=\"col s12\">\n                    <label\n                      htmlFor=\"txtKMeansColorRestrictions\"\n                      data-tip\n                      data-for=\"restrictClusteringColors\"\n                    >\n                      {translate(\"restrictClusteringColors\")}\n                      <ReactTooltip\n                        id=\"restrictClusteringColors\"\n                        place=\"right\"\n                        type=\"info\"\n                        effect=\"solid\"\n                      >\n                        <span>{translate(\"restrictClusteringColorsInfo\")}</span>\n                      </ReactTooltip>\n                    </label>\n                    <textarea\n                      id=\"txtKMeansColorRestrictions\"\n                      className=\"materialize-textarea validate\"\n                      defaultValue=\"/0,0,0 /255,255,255\"\n                    ></textarea>\n                  </div>\n                </div>\n              </li>\n              <li className=\"collection-item\">\n                <div className=\"row\">\n                  <div className=\"input-field col s4\">\n                    <input\n                      id=\"txtNarrowPixelStripCleanupRuns\"\n                      type=\"number\"\n                      defaultValue=\"3\"\n                      min=\"0\"\n                      className=\"validate\"\n                    />\n                    <label\n                      htmlFor=\"txtNarrowPixelStripCleanupRuns\"\n                      data-tip\n                      data-for=\"numberOfRuns\"\n                    >\n                      {translate(\"numberOfRuns\")}\n                      {tooltip(\"numberOfRuns\")}\n                    </label>\n                  </div>\n                  <div className=\"input-field col s4\">\n                    <input\n                      id=\"txtRemoveFacetsSmallerThan\"\n                      type=\"number\"\n                      defaultValue=\"20\"\n                      min=\"1\"\n                      className=\"validate\"\n                    />\n                    <label\n                      htmlFor=\"txtRemoveFacetsSmallerThan\"\n                      data-tip\n                      data-for=\"removeSmallFacets\"\n                    >\n                      {translate(\"removeSmallFacets\")}\n                      {tooltip(\"removeSmallFacets\")}\n                    </label>\n                  </div>\n                  <div className=\"input-field col s4\">\n                    <input\n                      id=\"txtMaximumNumberOfFacets\"\n                      type=\"number\"\n                      defaultValue=\"100000\"\n                      min=\"1\"\n                      className=\"validate\"\n                    />\n                    <label\n                      htmlFor=\"txtMaximumNumberOfFacets\"\n                      data-tip\n                      data-for=\"maximumNumberOfFacets\"\n                    >\n                      {translate(\"maximumNumberOfFacets\")}\n                      {tooltip(\"maximumNumberOfFacets\")}\n                    </label>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"input-field col s6\">\n                    <div className=\"row\">\n                      <div className=\"col s4\">\n                        <label data-tip data-for=\"smallFacetRemovalOrder\">\n                          {translate(\"smallFacetRemovalOrder\")}\n                          {tooltip(\"smallFacetRemovalOrder\")}\n                        </label>\n                      </div>\n                      <div className=\"col s4\">\n                        <label>\n                          <input\n                            id=\"optFacetRemovalLargestToSmallest\"\n                            name=\"smallfacetremovalorder\"\n                            type=\"radio\"\n                            checked={checked7}\n                            onChange={() => setChecked7(!checked7)}\n                          />\n                          <span>{translate(\"largestToSmallest\")}</span>\n                        </label>\n                      </div>\n                      <div className=\"col s4\">\n                        <label>\n                          <input\n                            id=\"optFacetRemovalSmallestToLargest\"\n                            name=\"smallfacetremovalorder\"\n                            type=\"radio\"\n                            checked={checked8}\n                            onChange={() => setChecked8(!checked8)}\n                          />\n                          <span>{translate(\"smallestToLargest\")}</span>\n                        </label>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </li>\n              <li className=\"collection-item\">\n                <div className=\"row\">\n                  <div className=\"input-field col s5\">\n                    <input\n                      id=\"txtNrOfTimesToHalveBorderSegments\"\n                      type=\"number\"\n                      defaultValue=\"2\"\n                      min=\"0\"\n                      className=\"validate\"\n                    />\n                    <label\n                      htmlFor=\"txtNrOfTimesToHalveBorderSegments\"\n                      data-tip\n                      data-for=\"amountOfTimes\"\n                    >\n                      {translate(\"amountOfTimes\")}\n                      <ReactTooltip\n                        id=\"amountOfTimes\"\n                        place=\"top\"\n                        type=\"info\"\n                        effect=\"solid\"\n                      >\n                        <span>{translate(\"amountOfTimesInfo\")}</span>\n                      </ReactTooltip>\n                    </label>\n                  </div>\n                </div>\n              </li>\n            </ul>\n          </div>\n\n          <div className=\"col s12\">\n            <label className=\"waves-effect waves-light btn\" id=\"btnProcess\">\n              {translate(\"processImage\")}\n            </label>\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"col s2\">\n            <div className=\"status kMeans\">\n              {translate(\"kMeansClustering\")}\n              <div className=\"progress\">\n                <div\n                  id=\"statusKMeans\"\n                  className=\"determinate\"\n                  style={{ width: \"0%\" }}\n                ></div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col s2\">\n            <div className=\"status facetBuilding\">\n              {translate(\"facetBuilding\")}\n              <div className=\"progress\">\n                <div\n                  id=\"statusFacetBuilding\"\n                  className=\"determinate\"\n                  style={{ width: \"0%\" }}\n                ></div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col s2\">\n            <div className=\"status facetReduction\">\n              {translate(\"smallFacetPruning\")}\n              <div className=\"progress\">\n                <div\n                  id=\"statusFacetReduction\"\n                  className=\"determinate\"\n                  style={{ width: \"0%\" }}\n                ></div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col s2\">\n            <div className=\"status facetBorderPath\">\n              {translate(\"borderDetection\")}\n              <div className=\"progress\">\n                <div\n                  id=\"statusFacetBorderPath\"\n                  className=\"determinate\"\n                  style={{ width: \"0%\" }}\n                ></div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col s2\">\n            <div className=\"status facetBorderSegmentation\">\n              {translate(\"borderSegmentation\")}\n              <div className=\"progress\">\n                <div\n                  id=\"statusFacetBorderSegmentation\"\n                  className=\"determinate\"\n                  style={{ width: \"0%\" }}\n                ></div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col s2\">\n            <div className=\"status facetLabelPlacement\">\n              {translate(\"labelPlacement\")}\n              <div className=\"progress\">\n                <div\n                  id=\"statusFacetLabelPlacement\"\n                  className=\"determinate\"\n                  style={{ width: \"0%\" }}\n                ></div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col s2\">\n            <div className=\"status SVGGenerate\">\n              {translate(\"SVGGeneration\")}\n              <div className=\"progress\">\n                <div\n                  id=\"statusSVGGenerate\"\n                  className=\"determinate\"\n                  style={{ width: \"0%\" }}\n                ></div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"col s12\">\n            <ul id=\"tabsOutput\" className=\"tabs\">\n              <li className=\"tab col s2\">\n                <a href=\"#kmeans-pane\">{translate(\"quantizedImage\")}e</a>\n              </li>\n              <li className=\"tab col s2\">\n                <a href=\"#reduction-pane\">{translate(\"facetReduction\")}</a>\n              </li>\n              <li className=\"tab col s2\">\n                <a href=\"#borderpath-pane\">{translate(\"borderTracing\")}</a>\n              </li>\n              <li className=\"tab col s2\">\n                <a href=\"#bordersegmentation-pane\">\n                  {translate(\"borderSegmentation\")}\n                </a>\n              </li>\n              <li className=\"tab col s2\">\n                <a href=\"#labelplacement-pane\">{translate(\"labelPlacement\")}</a>\n              </li>\n              <li className=\"tab col s2\">\n                <a href=\"#output-pane\">{translate(\"output\")}</a>\n              </li>\n              <li className=\"tab col s2\">\n                <a href=\"#log-pane\">{translate(\"log\")}</a>\n              </li>\n            </ul>\n          </div>\n          <div id=\"kmeans-pane\" className=\"col s12\">\n            <canvas id=\"cKMeans\"></canvas>\n          </div>\n          <div id=\"reduction-pane\" className=\"col s12\">\n            <canvas id=\"cReduction\"></canvas>\n          </div>\n          <div id=\"borderpath-pane\" className=\"col s12\">\n            <canvas id=\"cBorderPath\"></canvas>\n          </div>\n          <div id=\"bordersegmentation-pane\" className=\"col s12\">\n            <canvas id=\"cBorderSegmentation\"></canvas>\n          </div>\n          <div id=\"labelplacement-pane\" className=\"col s12\">\n            <canvas id=\"cLabelPlacement\"></canvas>\n          </div>\n\n          <div id=\"output-pane\" className=\"col s12\">\n            <div className=\"row\">\n              <div className=\"col s2\">\n                <label>{translate(\"SVGRenderOptions\")}</label>\n              </div>\n              <div className=\"col s2\">\n                <label>\n                  <input\n                    id=\"chkShowLabels\"\n                    type=\"checkbox\"\n                    checked={checked}\n                    onChange={() => setChecked(!checked)}\n                  />\n                  <span>{translate(\"showLabels\")}</span>\n                </label>\n              </div>\n              <div className=\"col s2\">\n                <label>\n                  <input\n                    id=\"chkFillFacets\"\n                    type=\"checkbox\"\n                    checked={!checked1}\n                    onChange={() => setChecked1(!checked1)}\n                  />\n                  <span>{translate(\"fillFacets\")}</span>\n                </label>\n              </div>\n              <div className=\"col s2\">\n                <label>\n                  <input\n                    id=\"chkShowBorders\"\n                    type=\"checkbox\"\n                    checked={checked2}\n                    onChange={() => setChecked2(!checked2)}\n                  />\n                  <span>{translate(\"showBorders\")}</span>\n                </label>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col s3\">\n                <div className=\"input-field\">\n                  <input\n                    placeholder=\"SVG Size multiplier\"\n                    id=\"txtSizeMultiplier\"\n                    type=\"number\"\n                    defaultValue=\"1\"\n                    min=\"1\"\n                    className=\"validate\"\n                  />\n                  <label\n                    htmlFor=\"txtSizeMultiplier\"\n                    data-tip\n                    data-for=\"SVGSizeMultiplier\"\n                  >\n                    {translate(\"SVGSizeMultiplier\")}\n                    {tooltip(\"SVGSizeMultiplier\")}\n                  </label>\n                </div>\n              </div>\n              <div className=\"col s3\">\n                <div className=\"input-field\">\n                  <input\n                    placeholder=\"Label font size\"\n                    id=\"txtLabelFontSize\"\n                    type=\"number\"\n                    defaultValue=\"50\"\n                    min=\"1\"\n                    max=\"100\"\n                  />\n                  <label\n                    htmlFor=\"txtLabelFontSize\"\n                    data-tip\n                    data-for=\"labelFontSize\"\n                  >\n                    {translate(\"labelFontSize\")}\n                    {tooltip(\"labelFontSize\")}\n                  </label>\n                </div>\n              </div>\n              <div className=\"col s3\">\n                <div className=\"input-field\">\n                  <input\n                    placeholder=\"Label font size\"\n                    id=\"txtLabelFontColor\"\n                    type=\"text\"\n                    defaultValue=\"#000\"\n                  />\n                  <label\n                    htmlFor=\"txtLabelFontColor\"\n                    data-tip\n                    data-for=\"labelFontColor\"\n                  >\n                    {translate(\"labelFontColor\")}\n                    {tooltip(\"labelFontColor\")}\n                  </label>\n                </div>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div id=\"palette\" className=\"palette\"></div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col s12\">\n                <div id=\"svgContainer\"></div>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"col s3\">\n                <label\n                  className=\"waves-effect waves-light btn\"\n                  id=\"btnDownloadSVG\"\n                >\n                  {translate(\"downloadSVG\")}\n                </label>\n              </div>\n              <div className=\"col s3\">\n                <label\n                  className=\"waves-effect waves-light btn\"\n                  id=\"btnDownloadPNG\"\n                >\n                  {translate(\"downloadPNG\")}\n                </label>\n              </div>\n              <div className=\"col s3\">\n                <label\n                  className=\"waves-effect waves-light btn\"\n                  id=\"btnDownloadPalettePNG\"\n                >\n                  {translate(\"downloadPalette\")}\n                </label>\n              </div>\n            </div>\n            <div className=\"row\"></div>\n            <div className=\"row\">\n              <div className=\"col s3\"></div>\n              <div className=\"col s3\">\n                <Button onClick={savePicture}>\n                  {translate(\"saveInProfile\")}\n                </Button>\n              </div>\n            </div>\n          </div>\n\n          <div id=\"log-pane\" className=\"col s12\">\n            <div className=\"row\">\n              <div className=\"col s12\">\n                <div id=\"log\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Converter;\n","import React, { Component } from \"react\";\nimport undo from \"../../images/undo.png\";\n\nimport translate from \"../../i18n/translate\";\n\nclass Palette extends Component {\n  constructor() {\n    super();\n    this.state = {\n      chosenColor: \"#FFFFFF\",\n    };\n\n    this.swatchClick = this.swatchClick.bind(this);\n    this.undoMove = this.undoMove.bind(this);\n  }\n\n  //on click in a colour, changes bg color of colorHolder\n  swatchClick(colour) {\n    this.setState({ chosenColor: colour });\n    this.props.onSelectColor(colour);\n  }\n\n  undoMove() {\n    this.props.onUndoMove();\n  }\n\n  render() {\n    return (\n      <div className=\"swatchHolder\">\n        <ul>\n          {this.props.onPallete.map((colour, index) => {\n            return (\n              <li\n                key={colour}\n                style={{ backgroundColor: colour }}\n                onClick={() => this.swatchClick(colour)}\n              >{index}</li>\n            );\n          })}\n        </ul>\n        <div>\n          <img\n            className=\"undo-icon\"\n            src={undo}\n            onClick={this.undoMove}\n            alt=\"Click here to undo the last move\"\n          />\n          <div\n            className=\"colorHolder\"\n            style={{ backgroundColor: this.state.chosenColor }}\n          >\n            {translate(\"currentColor\")}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Palette;\n","export default \"data:image/png;base64,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\"","import React, { Component } from \"react\";\nimport Palette from \"./palette\";\nimport \"../../styles/style.css\";\nimport { Button } from \"react-bootstrap\";\nimport translate from \"../../i18n/translate\";\nimport { getDatabase, ref, set, get, child, push } from \"firebase/database\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\n\nclass ColoringPicture extends Component {\n  constructor(props) {\n    super(props);\n    // Refs info from: https://reactjs.org/docs/refs-and-the-dom.html\n    this.myRef = React.createRef();\n\n    this.state = {\n      imageLoaded: false,\n      picture: {},\n      currentColor: \"\",\n      colors: this.standartPallete,\n      standartPallete: this.standartPallete,\n      inputValue: \"\",\n      userUID: \"\",\n      pictureId: \"null\",\n      checked: false,\n      cleanPicture: false,\n    };\n\n    const auth = getAuth();\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        const userUid = user.uid;\n\n        this.setState({\n          userUID: userUid,\n        });\n\n        const dbRef = ref(getDatabase());\n        get(child(dbRef, \"picturesForColoring/\" + userUid))\n          .then((snapshot) => {\n            if (snapshot.exists()) {\n              const picture = snapshot.val();\n\n              this.setState({\n                picture: picture.pictureImage,\n              });\n\n              this.img = new Image();\n              this.img.src = picture.pictureImage;\n\n              this.img.onload = () => {\n                this.setState({ imageLoaded: true });\n\n                const pallete = picture.pallete;\n\n                this.setState({ colors: pallete });\n\n                this.setState({ pictureId: picture.pictureId });\n\n                this.setState({ cleanPicture: picture.cleanPicture });\n              };\n            } else {\n              console.log(\"No data available\");\n            }\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n      }\n    });\n\n    this.getPicture = this.getPicture.bind(this);\n    this.handleColor = this.handleColor.bind(this);\n    this.convertHexToRGB = this.convertHexToRGB.bind(this);\n    this.handleFilling = this.handleFilling.bind(this);\n    this.floodFill = this.floodFill.bind(this);\n    this.removeEvent = this.removeEvent.bind(this);\n    this.savePicture = this.savePicture.bind(this);\n    this.handleName = this.handleName.bind(this);\n    this.loadTheLastPalleteAndPicture =\n      this.loadTheLastPalleteAndPicture.bind(this);\n    this.updateInputValue = this.updateInputValue.bind(this);\n    this.savePictureInMyPicture = this.savePictureInMyPicture.bind(this);\n  }\n\n  standartPallete = [\n    \"#000000\",\n    \"#343433\",\n    \"#4E4E4D\",\n    \"#676868\",\n    \"#979797\",\n    \"#CECCCC\",\n    \"#FFFFFF\",\n    \"#F7DAAF\",\n    \"#F7ED45\",\n    \"#FBEE34\",\n    \"#FCD55A\",\n    \"#FDD209\",\n    \"#FFCD37\",\n    \"#FDBE16\",\n    \"#F99B29\",\n    \"#F16A2D\",\n    \"#F37122\",\n    \"#EF463C\",\n    \"#F26F68\",\n    \"#EC2724\",\n    \"#931D1A\",\n    \"#A6322E\",\n    \"#B44426\",\n    \"#7D4829\",\n    \"#AD7229\",\n    \"#DB8D77\",\n    \"#E79D5D\",\n    \"#EC9342\",\n    \"#E4B07C\",\n    \"#E08C39\",\n    \"#DDA463\",\n    \"#BA9F53\",\n    \"#9D8223\",\n    \"#BACD3F\",\n    \"#68AF46\",\n    \"#69BD45\",\n    \"#53B948\",\n    \"#169E49\",\n    \"#05753C\",\n    \"#71CCDC\",\n    \"#188FCA\",\n    \"#3CBEB7\",\n    \"#3C75BA\",\n    \"#014159\",\n    \"#4454A4\",\n    \"#5A499E\",\n    \"#583E98\",\n    \"#6A449B\",\n    \"#905FA7\",\n    \"#8D52A1\",\n    \"#C196C5\",\n    \"#DD64A5\",\n    \"#E0398C\",\n    \"#DB778D\",\n  ];\n\n  b64toBlob(dataURI) {\n    var byteString = atob(dataURI.split(\",\")[1]);\n    var ab = new ArrayBuffer(byteString.length);\n    var ia = new Uint8Array(ab);\n\n    for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ab], { type: \"image/jpeg\" });\n  }\n\n  rgb2hex(r, g, b) {\n    return \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n  }\n\n  async loadTheLastPalleteAndPicture() {\n    let blob = await fetch(localStorage.getItem(\"lastPictureImg\")).then((r) =>\n      r.blob()\n    );\n\n    if (\n      localStorage.getItem(\"lastPictureColors\") !== null &&\n      localStorage.getItem(\"lastPictureImg\") !== null\n    ) {\n      this.setState({ cleanPicture: false });\n\n      //Load picture\n      const svgUrl = localStorage.getItem(\"lastPictureImg\");\n\n      this.setState({\n        picture: svgUrl,\n      });\n\n      this.img = new Image();\n      this.img.src = svgUrl;\n\n      this.img.onload = () => {\n        this.setState({ imageLoaded: true });\n\n        //Load pallete\n        const pallete = JSON.parse(localStorage.getItem(\"lastPictureColors\"));\n\n        for (let i = 0; i < pallete.length; i++) {\n          pallete[i] = this.rgb2hex(\n            pallete[i][0],\n            pallete[i][1],\n            pallete[i][2]\n          );\n        }\n\n        this.setState({ colors: pallete });\n\n        if (this.state.userUID !== \"\") {\n          this.setState({ pictureId: \"null\" });\n          const db = getDatabase();\n\n          let userUID = this.state.userUID;\n          let pictureId = this.state.pictureId;\n\n          var reader = new FileReader();\n          reader.readAsDataURL(blob);\n          reader.onloadend = function () {\n            var base64data = reader.result;\n            set(ref(db, \"picturesForColoring/\" + userUID), {\n              pictureImage: base64data,\n              pictureId: pictureId,\n              pallete: pallete,\n              cleanPicture: false,\n            });\n          };\n        }\n\n        localStorage.removeItem(\"lastPictureColors\");\n        localStorage.removeItem(\"lastPictureImg\");\n      };\n      this.img.onerror = () => {\n        this.setState({ colors: this.standartPallete });\n        alert(\n          localStorage.getItem(\"language\") === \"ru-ru\"\n            ? \"Картинка не найдена, сгенерируйте новую!\"\n            : \"Image not found, please generate a new one!\"\n        );\n      };\n    } else {\n      alert(\n        localStorage.getItem(\"language\") === \"ru-ru\"\n          ? \"Последняя картинка или палитра не найдена, попробуйте сгенерировать картинку.\"\n          : \"Last picture or palette not found, try to generate a picture.\"\n      );\n    }\n  }\n\n  savePictureInMyPicture() {\n    if (this.state.imageLoaded) {\n      const auth = getAuth();\n      onAuthStateChanged(auth, (user) => {\n        if (user) {\n          const userUid = user.uid;\n\n          const pictureName = prompt(\n            localStorage.getItem(\"language\") === \"ru-ru\"\n              ? \"Введите название картинки\"\n              : \"Enter the name of the picture\"\n          );\n\n          if (pictureName) {\n            const db = getDatabase();\n\n            const pallete = [];\n            for (let i = 0; i < this.state.colors.length; i++) {\n              pallete.push(this.convertHexToRGB(this.state.colors[i]));\n            }\n\n            if (\n              this.state.pictureId === \"null\" ||\n              this.state.checked ||\n              this.state.cleanPicture\n            ) {\n              const pictureListRef = ref(db, \"pictures\");\n              const newPictureRef = push(pictureListRef);\n\n              set(newPictureRef, {\n                userUID: userUid,\n                pictureName: pictureName,\n                pallete: pallete,\n                pictureImage: this.canvas.toDataURL(\"image/jpeg\"),\n                cleanPicture: false,\n                activeSize: 0,\n              });\n            } else {\n              set(ref(db, \"pictures/\" + this.state.pictureId), {\n                userUID: userUid,\n                pictureName: pictureName,\n                pallete: pallete,\n                pictureImage: this.canvas.toDataURL(\"image/jpeg\"),\n                cleanPicture: false,\n                activeSize: 0,\n              });\n            }\n\n            alert(\n              localStorage.getItem(\"language\") === \"ru-ru\"\n                ? \"Картинка сохранена в профиль!\"\n                : \"Picture saved to profile!\"\n            );\n          } else {\n            alert(\n              localStorage.getItem(\"language\") === \"ru-ru\"\n                ? \"Вы не ввели имя!\"\n                : \"You didn't enter a name!\"\n            );\n          }\n        } else {\n          alert(\n            localStorage.getItem(\"language\") === \"ru-ru\"\n              ? \"Вы не авторизованы!\"\n              : \"you are not authorized!\"\n          );\n        }\n      });\n    } else {\n      alert(\n        localStorage.getItem(\"language\") === \"ru-ru\"\n          ? \"Вы не добавили картинку!\"\n          : \"You have not added a picture!\"\n      );\n    }\n  }\n\n  getPicture = (event) => {\n    if (event.target.files && event.target.files[0]) {\n      this.setState({ cleanPicture: false });\n\n      this.setState({\n        picture: URL.createObjectURL(event.target.files[0]),\n      });\n\n      this.img = new Image();\n      this.img.src = window.URL.createObjectURL(event.target.files[0]);\n\n      this.img.onload = () => {\n        this.setState({ imageLoaded: true });\n        this.setState({ colors: this.standartPallete });\n\n        if (this.state.userUID !== \"\") {\n          this.setState({ pictureId: \"null\" });\n          var userUID = this.state.userUID;\n          var pictureId = this.state.pictureId;\n          var standartPallete = this.standartPallete;\n          var reader = new FileReader();\n          reader.readAsDataURL(event.target.files[0]);\n          reader.onload = function () {\n            const db = getDatabase();\n            set(ref(db, \"picturesForColoring/\" + userUID), {\n              pictureImage: reader.result,\n              pictureId: pictureId,\n              pallete: standartPallete,\n              cleanPicture: false,\n            });\n          };\n        }\n      };\n    }\n  };\n\n  updateInputValue(event) {\n    this.setState({\n      inputValue: event.target.value,\n    });\n  }\n\n  async savePicture() {\n    if (this.state.imageLoaded) {\n      const pictureName = prompt(\n        localStorage.getItem(\"language\") === \"ru-ru\"\n          ? \"Введите имя изображения\"\n          : \"Enter picture name\"\n      );\n      if (pictureName) {\n        var dataURL = this.canvas.toDataURL(\"image/jpeg\");\n        var link = document.createElement(\"a\");\n        link.href = dataURL;\n        link.download = pictureName + \".jpg\";\n        link.click();\n      }\n    } else {\n      alert(\n        localStorage.getItem(\"language\") === \"ru-ru\"\n          ? \"Изображение не загружено!\"\n          : \"Image not loaded!\"\n      );\n    }\n  }\n\n  handleColor(color) {\n    this.setState({ currentColor: color });\n  }\n\n  convertHexToRGB(hex) {\n    //http://www.javascripter.net/faq/hextorgb.htm\n    let color = [];\n\n    const R = hexToR(hex);\n    const G = hexToG(hex);\n    const B = hexToB(hex);\n\n    function hexToR(hex) {\n      return parseInt(cutHex(hex).substring(0, 2), 16);\n    }\n\n    function hexToG(hex) {\n      return parseInt(cutHex(hex).substring(2, 4), 16);\n    }\n\n    function hexToB(hex) {\n      return parseInt(cutHex(hex).substring(4, 6), 16);\n    }\n\n    function cutHex(hex) {\n      return hex.charAt(0) === \"#\" ? hex.substring(1, 7) : hex;\n    }\n\n    color = [R, G, B, 255];\n    return color;\n  }\n\n  handleFilling(event) {\n    //pixel coordinates that was clicked on\n    const x = event.nativeEvent.layerX;\n    const y = event.nativeEvent.layerY;\n    //get currentColor in rgb\n    let color = this.convertHexToRGB(this.state.currentColor);\n\n    let newEvent = { type: \"fill\", color, x, y };\n\n    let { events, ...rest } = this.state.picture;\n\n    if (events === undefined) {\n      events = [];\n    }\n\n    this.setState({\n      picture: {\n        events: [...events, newEvent],\n        ...rest,\n      },\n    });\n  }\n\n  floodFill(ctx, x, y, fillColor, range = 1) {\n    //https://stackoverflow.com/questions/2106995/how-can-i-perform-flood-fill-with-html-canvas\n    const getPixel = (imageData, x, y) => {\n      // console.log(\"getting the pixel\");\n      if (x < 0 || y < 0 || x >= imageData.width || y >= imageData.height) {\n        return [-1, -1, -1, -1]; // impossible color\n      } else {\n        const offset = (y * imageData.width + x) * 4;\n        return imageData.data.slice(offset, offset + 4);\n      }\n    };\n\n    const setPixel = (imageData, x, y, fillColor) => {\n      // console.log('setting the pixel');\n      const offset = (y * imageData.width + x) * 4;\n      imageData.data[offset + 0] = fillColor[0];\n      imageData.data[offset + 1] = fillColor[1];\n      imageData.data[offset + 2] = fillColor[2];\n      imageData.data[offset + 3] = fillColor[3];\n    };\n\n    const colorsMatch = (a, b, rangeSq) => {\n      const dr = a[0] - b[0];\n      const dg = a[1] - b[1];\n      const db = a[2] - b[2];\n      const da = a[3] - b[3];\n      return dr * dr + dg * dg + db * db + da * da < rangeSq;\n    };\n\n    // read the pixels in the canvas\n    const imageData = ctx.getImageData(\n      0,\n      0,\n      ctx.canvas.width,\n      ctx.canvas.height\n    );\n\n    // flags for if we visited a pixel already\n    const visited = new Uint8Array(imageData.width * imageData.height);\n\n    // get the before pixel color we're filling\n    const targetColor = getPixel(imageData, x, y);\n\n    if (colorsMatch([0, 0, 0, 255], targetColor, 2000)) {\n      return;\n    }\n    // check we are actually filling a different color\n    else if (!colorsMatch(targetColor, fillColor)) {\n      const rangeSq = range * range;\n      const pixelsToCheck = [x, y];\n\n      while (pixelsToCheck.length > 0) {\n        const y = pixelsToCheck.pop();\n        const x = pixelsToCheck.pop();\n\n        const currentColor = getPixel(imageData, x, y);\n        if (\n          !visited[y * imageData.width + x] &&\n          colorsMatch(currentColor, targetColor, rangeSq)\n        ) {\n          setPixel(imageData, x, y, fillColor);\n          // mark we were here already\n          visited[y * imageData.width + x] = 1;\n          // add new pixels to check\n          pixelsToCheck.push(x + 1, y);\n          pixelsToCheck.push(x - 1, y);\n          pixelsToCheck.push(x, y + 1);\n          pixelsToCheck.push(x, y - 1);\n        }\n      }\n      // put the data back\n      ctx.putImageData(imageData, 0, 0);\n    }\n  }\n\n  removeEvent() {\n    const { events, ...rest } = this.state.picture;\n    events?.pop();\n\n    this.setState({\n      picture: {\n        events: events,\n        ...rest,\n      },\n    });\n  }\n\n  handleName(event) {\n    this.setState({\n      picture: {\n        name: event.target.value,\n      },\n    });\n\n    return this.state.picture.name;\n  }\n\n  fillAlpha(ctx, bgColor) {\n    // bgColor is a valid CSS color ctx is 2d context\n    // save state\n    ctx.save();\n    // make sure defaults are set\n    ctx.globalAlpha = 1;\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.filter = \"none\";\n\n    // fill transparent pixels with bgColor\n    ctx.globalCompositeOperation = \"destination-over\";\n    ctx.fillStyle = bgColor;\n    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n    // cleanup\n    ctx.restore();\n  }\n\n  render() {\n    //check if image loaded before drawing the canvas\n    if (this.state.imageLoaded) {\n      this.canvas = this.myRef.current;\n\n      var MAX_WIDTH = 900;\n      var MAX_HEIGHT = 700;\n      var width = this.img.width;\n      var height = this.img.height;\n\n      if (width > height) {\n        if (width > MAX_WIDTH) {\n          height *= MAX_WIDTH / width;\n          width = MAX_WIDTH;\n        }\n      } else {\n        if (height > MAX_HEIGHT) {\n          width *= MAX_HEIGHT / height;\n          height = MAX_HEIGHT;\n        }\n      }\n      this.canvas.width = width;\n      this.canvas.height = height;\n\n      if (this.state.picture.ctx) {\n        this.ctx = this.state.picture.ctx;\n      } else {\n        //get the context API\n        this.ctx = this.canvas.getContext(\"2d\");\n\n        this.fillAlpha(this.ctx, \"white\");\n\n        //copy image pixels to the canvas\n        this.ctx.drawImage(this.img, 0, 0, width, height);\n      }\n\n      if (this.state.picture.events) {\n        this.state.picture.events.forEach((e) => {\n          if (e.type === \"fill\") {\n            this.floodFill(this.ctx, e.x, e.y, e.color, 128);\n          }\n        });\n\n        var picture = this.canvas.toDataURL(\"image/jpeg\");\n\n        const db = getDatabase();\n        set(ref(db, \"picturesForColoring/\" + this.state.userUID), {\n          pictureImage: picture,\n          pallete: this.state.colors,\n          pictureId: this.state.pictureId,\n          cleanPicture: this.state.cleanPicture,\n        });\n      }\n    }\n\n    const handleChange = () => {\n      this.setState({ checked: !this.state.checked });\n    };\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <h2> </h2>\n          <span style={{ marginLeft: \"200px\" }}>\n            {translate(\"inputFile\")}{\" \"}\n            <input\n              name=\"imageLoader\"\n              type=\"file\"\n              accept=\"image/png,image/svg+xml,image/jpeg\"\n              onChange={this.getPicture}\n            ></input>\n            ).\n          </span>\n        </div>\n\n        <div id=\"ActivityDIV\">\n          <Palette\n            onSelectColor={this.handleColor}\n            onUndoMove={this.removeEvent}\n            onPallete={this.state.colors}\n          />\n\n          <canvas\n            className=\"canvas\"\n            id=\"canvas\"\n            ref={this.myRef}\n            onClick={this.handleFilling}\n          />\n\n          <div>\n            <br />\n          </div>\n\n          <div className=\"delete-save\">\n            <Button type=\"text\" onClick={this.loadTheLastPalleteAndPicture}>\n              {translate(\"loadLatestImage\")}\n            </Button>\n            <Button type=\"text\" onClick={this.savePictureInMyPicture}>\n              {translate(\"savePictureInMyPicture\")}\n            </Button>\n          </div>\n\n          <div>\n            <br />\n          </div>\n\n          <div className=\"delete-save\">\n            <label />\n            <label\n              style={{\n                display:\n                  this.state.pictureId === \"null\" || this.state.cleanPicture\n                    ? \"none\"\n                    : \"block\",\n              }}\n            >\n              <input\n                id=\"chkNewImage\"\n                type=\"checkbox\"\n                checked={this.state.checked}\n                onChange={handleChange}\n              />\n              <span\n                data-tip\n                data-for=\"resizeImage\"\n                style={{ marginLeft: \"190px\" }}\n              >\n                Сохранить, как новую\n              </span>\n            </label>\n          </div>\n\n          <div>\n            <br />\n            <br />\n          </div>\n\n          <div className=\"delete-save\">\n            <label className=\"save-pic\">\n              <Button type=\"text\" onClick={this.savePicture}>\n                {translate(\"save\")}\n              </Button>\n            </label>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ColoringPicture;\n","import React, { useRef, useState } from \"react\";\nimport { useAuth, login } from \"../../firebase\";\nimport \"../../styles/authentification.css\";\nimport { Button } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport translate from \"../../i18n/translate\";\n\nconst Authorization = () => {\n  const history = useHistory();\n\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const [loading, setLoading] = useState(false);\n  const currentUser = useAuth();\n\n  async function handleLogin() {\n    setLoading(true);\n    try {\n      await login(emailRef.current.value, passwordRef.current.value);\n      alert(localStorage.getItem(\"language\") === \"ru-ru\" ? \"Успешная авторизация\" : \"Successful authorization\");\n      history.push(\"/\");\n    } catch {\n      alert(localStorage.getItem(\"language\") === \"ru-ru\" ? \"Проверьте введенные данные!\" : \"Check the entered data!\");\n    }\n    setLoading(false);\n  }\n\n  return (\n    <div className=\"body\">\n      <div className=\"main\">\n        <div className=\"circle\"></div>\n        <div className=\"register-form-container\">\n          <form action=\"\">\n            <h1 className=\"form-title\">{translate(\"authorization\")}</h1>\n            <div className=\"form-fields\">\n              <div className=\"form-field\">\n                <input\n                  type=\"email\"\n                  placeholder=\"Почта\"\n                  required\n                  ref={emailRef}\n                />\n              </div>\n              <div className=\"form-field\">\n                <input\n                  type=\"password\"\n                  placeholder=\"Пароль\"\n                  required\n                  minlength=\"8\"\n                  maxlength=\"128\"\n                  ref={passwordRef}\n                />\n              </div>\n            </div>\n            <div className=\"form-buttons\">\n              <Button\n                className=\"button\"\n                disabled={loading || currentUser != null}\n                onClick={handleLogin}\n              >\n                {translate(\"logIn\")}\n              </Button>\n              <p>.</p>\n              <Button\n                className=\"button\"\n                onClick={() => history.push(\"/reset-password\")}\n              >\n                {translate(\"restorePassword\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Authorization;\n","import React, { useRef, useState } from \"react\";\nimport { useAuth, signup } from \"../../firebase\";\nimport \"../../styles/authentification.css\";\nimport { Button } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport translate from \"../../i18n/translate\";\n\nconst Registration = () => {\n  const history = useHistory();\n\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const [loading, setLoading] = useState(false);\n  const currentUser = useAuth();\n\n  async function handleSignup() {\n    setLoading(true);\n    try {\n      await signup(emailRef.current.value, passwordRef.current.value);\n      alert(localStorage.getItem(\"language\") === \"ru-ru\" ? \"Успешная регистрация\" : \"Successful registration\");\n      history.push(\"/\");\n    } catch {\n      alert(localStorage.getItem(\"language\") === \"ru-ru\" ? \"Такой аккаунт уже существует или неправильно введена почта!\" : \"Such an account already exists or the mail is entered incorrectly!\");\n    }\n    setLoading(false);\n  }\n\n  return (\n    <div className=\"body\">\n      <div className=\"main\">\n        <div className=\"circle\"></div>\n        <div className=\"register-form-container\">\n          <form action=\"\">\n            <h1 className=\"form-title\">{translate(\"registration\")}</h1>\n            <div className=\"form-fields\">\n              <div className=\"form-field\">\n                <input\n                  type=\"email\"\n                  placeholder=\"Почта\"\n                  required\n                  ref={emailRef}\n                />\n              </div>\n              <div className=\"form-field\">\n                <input\n                  type=\"password\"\n                  placeholder=\"Пароль\"\n                  required\n                  minlength=\"8\"\n                  maxlength=\"128\"\n                  ref={passwordRef}\n                />\n              </div>\n            </div>\n            <div className=\"form-buttons\">\n              <Button\n                className=\"button\"\n                disabled={loading || currentUser != null}\n                onClick={handleSignup}\n              >\n                {translate(\"register\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Registration;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport classNames from \"classnames\";\nimport \"../styles/my-image.css\";\nimport {\n  getDatabase,\n  ref,\n  onValue,\n  set,\n  update,\n  push,\n} from \"firebase/database\";\nimport { useAuth } from \"../firebase\";\nimport translate from \"../i18n/translate\";\n\nfunction Myimage() {\n  const currentUser = useAuth();\n\n  const history = useHistory();\n\n  if (currentUser === null) {\n    history.push(\"/authorization\");\n  }\n\n  const availableSizes = [50, 65, 80];\n\n  const [picturesList, setPicturesList] = useState();\n\n  const onSelectSize = (picture, index) => {\n    const db = getDatabase();\n\n    const pictureData = {\n      userUID: picture.userUID,\n      pictureName: picture.pictureName,\n      pallete: picture.pallete,\n      pictureImage: picture.pictureImage,\n      cleanPicture: picture.cleanPicture,\n      activeSize: index,\n    };\n\n    const updates = {};\n    updates[\"/pictures/\" + picture.id] = pictureData;\n\n    return update(ref(db), updates);\n  };\n\n  function rgb2hex(r, g, b) {\n    return \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n  }\n\n  useEffect(() => {\n    const db = getDatabase();\n    const pictureRef = ref(db, \"pictures\");\n    onValue(pictureRef, (snapshot) => {\n      const pictures = snapshot.val();\n      const picturesList = [];\n      for (let id in pictures) {\n        if (pictures[id].userUID === currentUser?.uid) {\n          picturesList.push({ id, ...pictures[id] });\n        }\n      }\n      setPicturesList(picturesList);\n    });\n  }, [currentUser?.uid]);\n\n  function removePicture(index) {\n    const db = getDatabase();\n    const pictureRef = ref(db, \"pictures/\" + index);\n    set(pictureRef, null);\n  }\n\n  function editPicture(picture) {\n    var pictureName = prompt(\n      localStorage.getItem(\"language\") === \"ru-ru\"\n        ? \"Введите новое имя\"\n        : \"Enter new name\"\n    );\n\n    if (pictureName) {\n      const db = getDatabase();\n\n      const pictureData = {\n        userUID: picture.userUID,\n        pictureName: pictureName,\n        pallete: picture.pallete,\n        pictureImage: picture.pictureImage,\n        cleanPicture: picture.cleanPicture,\n        activeSize: picture.activeSize,\n      };\n\n      const updates = {};\n      updates[\"/pictures/\" + picture.id] = pictureData;\n\n      return update(ref(db), updates);\n    }\n  }\n\n  function colorizePicture(picture) {\n    for (let i = 0; i < picture.pallete.length; i++) {\n      picture.pallete[i] = rgb2hex(\n        picture.pallete[i][0],\n        picture.pallete[i][1],\n        picture.pallete[i][2]\n      );\n    }\n\n    const db = getDatabase();\n    set(ref(db, \"picturesForColoring/\" + picture.userUID), {\n      pictureId: picture.id,\n      pictureImage: picture.pictureImage,\n      pallete: picture.pallete,\n      cleanPicture: picture.cleanPicture,\n    });\n\n    history.push(\"/сoloring-a-picture\");\n  }\n\n  function addToCart(picture) {\n    const pallete = [];\n\n    // eslint-disable-next-line array-callback-return\n    picture.pallete.map((colour) => {\n      pallete.push(rgb2hex(colour[0], colour[1], colour[2]));\n    });\n\n    const db = getDatabase();\n    const pictureListRef = ref(db, \"cart\");\n    const newPictureRef = push(pictureListRef);\n    set(newPictureRef, {\n      userUID: picture.userUID,\n      pictureName: picture.pictureName,\n      pictureImage: picture.pictureImage,\n      pallete: pallete,\n      size: picture.activeSize,\n      quantity: 1,\n      price: picture.activeSize === 0 ? 20 : picture.activeSize === 1 ? 25 : 30,\n    });\n\n    alert(\n      localStorage.getItem(\"language\") === \"ru-ru\"\n        ? \"Картина добавлена в корзину\"\n        : \"Picture adding to cart\"\n    );\n  }\n\n  function ImageItem({ picture, id }) {\n    return (\n      <div className=\"pizza-block\">\n        <h4 className=\"pizza-block__title\">{picture.pictureName}</h4>\n        <button\n          style={{ marginRight: \"30px\" }}\n          onClick={() => removePicture(picture.id)}\n        >\n          {translate(\"delete\")}\n        </button>\n        <button onClick={() => editPicture(picture)}>\n          {translate(\"edit\")}\n        </button>\n        <img\n          className=\"pizza-block__image\"\n          src={picture.pictureImage}\n          alt=\"Pizza\"\n        />\n        <div className=\"swatchHolder\">\n          <ul>\n            {picture.pallete.map((colour, index) => {\n              return (\n                <li\n                  key={colour}\n                  style={{\n                    backgroundColor: rgb2hex(colour[0], colour[1], colour[2]),\n                  }}\n                >\n                  {index}\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n        <br />\n        <div\n          style={{ display: picture.cleanPicture ? \"brhbfhr\" : \"none\" }}\n          className=\"pizza-block__selector\"\n        >\n          <ul>\n            <a1>{translate(\"sizes\")}</a1>\n          </ul>\n          <ul>\n            {availableSizes.map((size, index) => (\n              <li\n                key={size}\n                onClick={() => onSelectSize(picture, index)}\n                className={classNames({\n                  active:\n                    picturesList[id].activeSize === index &&\n                    picture.id === picturesList[id].id,\n                  disabled: !availableSizes.includes(size),\n                })}\n              >\n                {size} см.\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"pizza-block__bottom\">\n          <div\n            style={{ display: picture.cleanPicture ? \"brhbfhr\" : \"none\" }}\n            className=\"pizza-block__price\"\n          >\n            {picture.activeSize === 0\n              ? \"20 BYN\"\n              : picture.activeSize === 1\n              ? \"25 BYN\"\n              : \"30 BYN\"}\n          </div>\n          <button\n            style={{ display: picture.cleanPicture ? \"brhbfhr\" : \"none\" }}\n            className=\"button1 button--outline button--add\"\n            onClick={() => addToCart(picture)}\n          >\n            <svg\n              width=\"12\"\n              height=\"12\"\n              viewBox=\"0 0 12 12\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\n                fill=\"white\"\n              />\n            </svg>\n            <span>{translate(\"addToCart\")}</span>\n          </button>\n          <br style={{ display: picture.cleanPicture ? \"brhbfhr\" : \"none\" }} />\n          <br style={{ display: picture.cleanPicture ? \"brhbfhr\" : \"none\" }} />\n          <button\n            className=\"button1 button--outline button--add\"\n            onClick={() => colorizePicture(picture)}\n          >\n            <svg\n              width=\"12\"\n              height=\"12\"\n              viewBox=\"0 0 12 12\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            ></svg>\n            <span style={{ marginRight: \"13px\" }}>{translate(\"coloring\")}</span>\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"content\">\n        <div className=\"container\">\n          <h2 className=\"content__title\">{translate(\"myPictures\")}</h2>\n          <div className=\"content__items\">\n            {picturesList ? (\n              picturesList.map((picture, index) => {\n                return <ImageItem picture={picture} id={index} />;\n              })\n            ) : (\n              <h1>{translate(\"loadPictures\")}</h1>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Myimage;\n","import { css } from \"styled-components\";\n\nexport const mobile = (props) => {\n  return css`\n    @media only screen and (max-width: 380px) {\n      ${props}\n    }\n  `;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { FiMinusCircle } from \"@react-icons/all-files/fi/FiMinusCircle\";\nimport { FiPlusCircle } from \"@react-icons/all-files/fi/FiPlusCircle\";\nimport styled from \"styled-components\";\nimport { mobile } from \"../responsive\";\nimport { getDatabase, ref, onValue, set, update } from \"firebase/database\";\nimport { useAuth } from \"../firebase\";\nimport { useHistory } from \"react-router-dom\";\nimport translate from \"../i18n/translate\";\n\nconst Container = styled.div``;\n\nconst Wrapper = styled.div`\n  padding: 20px;\n  ${mobile({ padding: \"10px\" })}\n`;\n\nconst Title = styled.h1`\n  font-weight: 300;\n  text-align: center;\n`;\n\nconst Bottom = styled.div`\n  display: flex;\n  justify-content: space-between;\n  ${mobile({ flexDirection: \"column\" })}\n`;\n\nconst Info = styled.div`\n  flex: 3;\n`;\n\nconst Product = styled.div`\n  display: flex;\n  justify-content: space-between;\n  ${mobile({ flexDirection: \"column\" })}\n`;\n\nconst ProductDetail = styled.div`\n  flex: 2;\n  display: flex;\n`;\n\nconst Image = styled.img`\n  width: 200px;\n`;\n\nconst Details = styled.div`\n  width: 500px;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n`;\n\nconst ProductName = styled.span``;\n\nconst ProductColor = styled.div`\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: ${(props) => props.color};\n`;\n\nconst ProductSize = styled.span``;\n\nconst PriceDetail = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst ProductAmountContainer = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n`;\n\nconst ProductAmount = styled.div`\n  font-size: 24px;\n  margin: 5px;\n  ${mobile({ margin: \"5px 15px\" })}\n`;\n\nconst ProductPrice = styled.div`\n  font-size: 30px;\n  font-weight: 200;\n  ${mobile({ marginBottom: \"20px\" })}\n`;\n\nconst Hr = styled.hr`\n  background-color: #eee;\n  border: none;\n  height: 1px;\n`;\n\nconst Summary = styled.div`\n  flex: 1;\n  border: 0.5px solid lightgray;\n  border-radius: 10px;\n  padding: 20px;\n  height: 40vh;\n`;\n\nconst SummaryTitle = styled.h1`\n  font-weight: 200;\n`;\n\nconst SummaryItem = styled.div`\n  margin: 30px 0px;\n  display: flex;\n  justify-content: space-between;\n  font-weight: ${(props) => props.type === \"total\" && \"500\"};\n  font-size: ${(props) => props.type === \"total\" && \"24px\"};\n`;\n\nconst SummaryItemText = styled.span``;\n\nconst SummaryItemPrice = styled.span``;\n\nconst Button = styled.button`\n  width: 100%;\n  padding: 10px;\n  background-color: black;\n  color: white;\n  font-weight: 600;\n`;\n\nconst ButtonDelete = styled.button`\n  width: 100%;\n  padding: 10px;\n  background-color: white;\n  color: black;\n  font-weight: 500;\n  border: 4px solid black;\n  border-radius: 25px;\n`;\n\nconst Cart = () => {\n  const currentUser = useAuth();\n  const history = useHistory();\n\n  if (currentUser === null) {\n    history.push(\"/authorization\");\n  }\n\n  const [picturesList, setPicturesList] = useState();\n\n  const [totalPrice, setTotalPrice] = useState();\n  const [quantityPictures, setQuantityPictures] = useState();\n\n  useEffect(() => {\n    const db = getDatabase();\n    const pictureRef = ref(db, \"cart\");\n\n    onValue(pictureRef, (snapshot) => {\n      const pictures = snapshot.val();\n      const picturesList = [];\n      const totalPrice = [];\n      for (let id in pictures) {\n        if (pictures[id].userUID === currentUser?.uid) {\n          picturesList.push({ id, ...pictures[id] });\n\n          totalPrice.push(pictures[id].price * pictures[id].quantity);\n        }\n      }\n      setPicturesList(picturesList);\n\n      let price = totalPrice.reduce(function (sum, elem) {\n        return sum + elem;\n      }, 0);\n      setTotalPrice(price);\n      localStorage.setItem(\"totalPrice\", price);\n\n      setQuantityPictures(totalPrice.length);\n    });\n  }, [currentUser?.uid]);\n\n  function removePicture(index) {\n    const db = getDatabase();\n    const pictureRef = ref(db, \"cart/\" + index);\n    set(pictureRef, null);\n  }\n\n  function decreaseInQuantity(picture) {\n    const db = getDatabase();\n\n    const pictureData = {\n      userUID: picture.userUID,\n      pictureName: picture.pictureName,\n      pallete: picture.pallete,\n      pictureImage: picture.pictureImage,\n      size: picture.size,\n      quantity: picture.quantity === 1 ? picture.quantity : --picture.quantity,\n      price: picture.price,\n    };\n\n    const updates = {};\n    updates[\"/cart/\" + picture.id] = pictureData;\n\n    return update(ref(db), updates);\n  }\n\n  function increaseInQuantity(picture) {\n    setTotalPrice(totalPrice + picture.price);\n\n    const db = getDatabase();\n\n    const pictureData = {\n      userUID: picture.userUID,\n      pictureName: picture.pictureName,\n      pallete: picture.pallete,\n      pictureImage: picture.pictureImage,\n      size: picture.size,\n      quantity: ++picture.quantity,\n      price: picture.price,\n    };\n\n    const updates = {};\n    updates[\"/cart/\" + picture.id] = pictureData;\n\n    return update(ref(db), updates);\n  }\n\n  return (\n    <Container>\n      <Wrapper>\n        <Title>{translate(\"cart\")}</Title>\n        <Bottom>\n          <Info>\n            {picturesList ? (\n              picturesList.map((picture) => {\n                return (\n                  <div>\n                    <Product>\n                      <ProductDetail>\n                        <Image src={picture.pictureImage} />\n                        <Details>\n                          <ProductName>\n                            <b>{translate(\"name\")}:</b> {picture.pictureName}\n                          </ProductName>\n                          <br />\n                          <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n                            {picture.pallete.map((colour) => {\n                              return <ProductColor color={colour} />;\n                            })}\n                          </div>\n                          <br />\n                          <ProductSize>\n                            <b>{translate(\"size\")}:</b>{\" \"}\n                            {picture.size === 0\n                              ? 50\n                              : picture.size === 1\n                              ? 65\n                              : 80}{\" \"}\n                            {translate(\"sm\")}.\n                          </ProductSize>\n                        </Details>\n                      </ProductDetail>\n                      <PriceDetail>\n                        <ProductAmountContainer>\n                          <ButtonDelete\n                            onClick={() => removePicture(picture.id)}\n                          >\n                            {translate(\"delete\")}\n                          </ButtonDelete>\n                        </ProductAmountContainer>\n                        <ProductAmountContainer>\n                          <FiMinusCircle\n                            onClick={() => decreaseInQuantity(picture)}\n                          />\n                          <ProductAmount>{picture.quantity}</ProductAmount>\n                          <FiPlusCircle\n                            onClick={() => increaseInQuantity(picture)}\n                          />\n                        </ProductAmountContainer>\n                        <ProductPrice>\n                          {picture.price * picture.quantity} BYN\n                        </ProductPrice>\n                      </PriceDetail>\n                    </Product>\n                    <br />\n                    <Hr />\n                    <br />\n                  </div>\n                );\n              })\n            ) : (\n              <h1>{translate(\"cartLoading\")}</h1>\n            )}\n          </Info>\n          <Summary>\n            <SummaryTitle>{translate(\"order\")}</SummaryTitle>\n            <SummaryItem>\n              <SummaryItemText>{translate(\"quantityProduct\")}</SummaryItemText>\n              <SummaryItemPrice>{quantityPictures}</SummaryItemPrice>\n            </SummaryItem>\n            <SummaryItem type=\"total\">\n              <SummaryItemText>{translate(\"totalPrice\")}</SummaryItemText>\n              <SummaryItemPrice>{totalPrice} BYN</SummaryItemPrice>\n            </SummaryItem>\n            <Button\n              onClick={() =>\n                totalPrice !== 0\n                  ? history.push(\"/checkout\")\n                  : alert(\n                      localStorage.getItem(\"language\") === \"ru-ru\"\n                        ? \"Корзина пустая\"\n                        : \"Cart is empty\"\n                    )\n              }\n            >\n              Оплатить\n            </Button>\n          </Summary>\n        </Bottom>\n      </Wrapper>\n    </Container>\n  );\n};\n\nexport default Cart;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { mobile } from \"../responsive\";\nimport { useAuth } from \"../firebase\";\nimport {\n  getAuth,\n  updatePassword,\n  reauthenticateWithCredential,\n  EmailAuthProvider,\n  sendPasswordResetEmail,\n} from \"firebase/auth\";\nimport { useHistory } from \"react-router-dom\";\nimport translate from \"../i18n/translate\";\n\nconst Container = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-size: cover;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Wrapper = styled.div`\n  width: 40%;\n  padding: 20px;\n  background-color: white;\n  ${mobile({ width: \"75%\" })}\n`;\n\nconst Title = styled.h1`\n  font-size: 24px;\n  font-weight: 300;\n`;\n\nconst Title1 = styled.h1`\n  font-size: 16px;\n  font-weight: 300;\n`;\n\nconst Agreement = styled.span`\n  font-size: 12px;\n  margin: 20px 0px;\n`;\n\nconst Button = styled.button`\n  width: 40%;\n  border: none;\n  padding: 15px 20px;\n  background-color: teal;\n  color: white;\n  cursor: pointer;\n  margin-left: 25px;\n  margin-right: 28px;\n`;\n\nconst MyProfile = () => {\n  const auth = getAuth();\n  const history = useHistory();\n  const currentUser = useAuth();\n\n  if (currentUser === null) {\n    history.push(\"/authorization\");\n  }\n\n  const user = auth.currentUser;\n\n  const [lastPassword, setLastPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n\n  function handleChange(event) {\n    setLastPassword(event.target.value);\n  }\n\n  function handleChange1(event) {\n    setNewPassword(event.target.value);\n  }\n\n  const resetPassword = () => {\n    if (lastPassword !== \"\" || newPassword !== \"\") {\n      const credential = EmailAuthProvider.credential(\n        auth.currentUser.email,\n        lastPassword\n      );\n\n      reauthenticateWithCredential(user, credential)\n        .then(() => {\n          updatePassword(user, newPassword)\n            .then(() => {\n              alert(localStorage.getItem(\"language\") === \"ru-ru\" ? \"Успешная смена пароля\" : \"Successful password change\");\n              setLastPassword(\"\");\n              setNewPassword(\"\");\n            })\n            .catch(() => {\n              alert(localStorage.getItem(\"language\") === \"ru-ru\" ? \"Ошибка\" : \"Error\");\n            });\n        })\n        .catch((error) => {\n          alert(localStorage.getItem(\"language\") === \"ru-ru\" ? \"Не верный старый пароль\" : \"Wrong old password\");\n        });\n    } else {\n      alert(localStorage.getItem(\"language\") === \"ru-ru\" ? \"Не все поля заполнены\" : \"Not all fields are filled\");\n    }\n  };\n\n  const reestablishPassword = () => {\n    sendPasswordResetEmail(auth, currentUser.email)\n      .then(() => {\n        alert(localStorage.getItem(\"language\") === \"ru-ru\" ? \"Сообщение с восстановлением отправлено на почту\" : \"Recovery message sent to email\");\n      })\n      .catch((error) => {\n        alert(localStorage.getItem(\"language\") === \"ru-ru\" ? \"Указанной почты не найдено\" : \"The specified mail was not found\");\n      });\n  };\n\n  return (\n    <Container>\n      <Wrapper>\n        <Title>{translate(\"myAccount\")}</Title>\n        <Title1>{translate(\"mail\")}: {user?.email}</Title1>\n        <Title>{translate(\"editPassword\")}</Title>\n        <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n          <Agreement>\n            {translate(\"editPassText\")}\n          </Agreement>\n          <div className=\"form-fields\">\n            <div className=\"form-field\">\n              <input\n                style={{ minWidth: \"540px\" }}\n                type=\"password\"\n                placeholder={localStorage.getItem(\"language\") === \"ru-ru\" ? \"Старый пароль\" : \"Last password\"}\n                required\n                minlength=\"8\"\n                maxlength=\"128\"\n                onChange={handleChange}\n                value={lastPassword}\n              />\n            </div>\n            <div className=\"form-field\">\n              <input\n                style={{ minWidth: \"540px\" }}\n                type=\"password\"\n                placeholder={localStorage.getItem(\"language\") === \"ru-ru\" ? \"Новый пароль\" : \"New password\"}\n                required\n                minlength=\"8\"\n                maxlength=\"128\"\n                onChange={handleChange1}\n                value={newPassword}\n              />\n            </div>\n          </div>\n          <Button onClick={() => resetPassword()}>{translate(\"updatePassword\")}</Button>\n          <Button onClick={() => reestablishPassword()}>{translate(\"restorePassword\")}</Button>\n        </div>\n      </Wrapper>\n    </Container>\n  );\n};\n\nexport default MyProfile;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { mobile } from \"../responsive\";\nimport { getAuth, sendPasswordResetEmail } from \"firebase/auth\";\n\nconst Container = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-size: cover;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Wrapper = styled.div`\n  width: 40%;\n  padding: 20px;\n  background-color: white;\n  ${mobile({ width: \"75%\" })}\n`;\n\nconst Title = styled.h1`\n  font-size: 24px;\n  font-weight: 300;\n`;\n\nconst Agreement = styled.span`\n  font-size: 12px;\n  margin: 20px 0px;\n`;\n\nconst Button = styled.button`\n  width: 40%;\n  border: none;\n  padding: 15px 20px;\n  background-color: teal;\n  color: white;\n  cursor: pointer;\n  margin-left: 150px;\n`;\n\nconst ReestablishPassword = () => {\n  const auth = getAuth();\n\n  const [email, setEmail] = useState();\n\n  function handleChange(event) {\n    setEmail(event.target.value);\n  }\n\n  const reestablishPassword = () => {\n    sendPasswordResetEmail(auth, email)\n      .then(() => {\n        alert(localStorage.getItem(\"language\") === \"ru-ru\" ? \"Сообщение с восстановлением отправлено на почту\" : \"Recovery message sent to email\");\n      })\n      .catch((error) => {\n        alert(localStorage.getItem(\"language\") === \"ru-ru\" ? \"Указанной почты не найдено\" : \"The specified mail was not found\");\n      });\n  };\n\n  return (\n    <Container>\n      <Wrapper>\n        <Title>Восстановление пароля</Title>\n        <div style={{  display: \"flex\", flexWrap: \"wrap\"}}>\n          <Agreement>\n            Для восстановления пароля введите адрес электронной почты.\n          </Agreement>\n          <div className=\"form-fields\">\n            <div className=\"form-field\">\n              <input\n                style={{ minWidth: \"540px\" }}\n                type=\"email\"\n                placeholder=\"Почта\"\n                required\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n          <Button onClick={reestablishPassword}>\n            Восстановить пароль\n          </Button>\n        </div>\n      </Wrapper>\n    </Container>\n  );\n};\n\nexport default ReestablishPassword;\n","import React from \"react\";\nimport \"../styles/homePage.css\";\nimport translate from \"../i18n/translate\";\n\nconst Info = () => {\n  return (\n    <div className=\"container1\" style={{ marginLeft: \"50px\", marginTop: \"170px\" }}>\n      <h5>{translate(\"info1\")}</h5>\n      <h5>{translate(\"info2\")}</h5>\n      <h5>{translate(\"info3\")}</h5>\n      <p>.</p>\n      <h5>{translate(\"info4\")}</h5>\n      <h5>1) {translate(\"info5\")}</h5>\n      <h5>2) {translate(\"info6\")}</h5>\n      <h5>3) {translate(\"info7\")}</h5>\n      <h5>4) {translate(\"info8\")}</h5>\n    </div>\n  );\n};\n\nexport default Info;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  PaymentElement,\n  useStripe,\n  useElements,\n} from \"@stripe/react-stripe-js\";\nimport styled from \"styled-components\";\nimport { getDatabase, ref, onValue, set } from \"firebase/database\";\nimport { useAuth } from \"../firebase\";\n\nconst Form = styled.form`\n  width: 30vw;\n  min-width: 500px;\n  align-self: center;\n  box-shadow: 0px 0px 0px 0.5px rgba(50, 50, 93, 0.1),\n    0px 2px 5px 0px rgba(50, 50, 93, 0.1), 0px 1px 1.5px 0px rgba(0, 0, 0, 0.07);\n  border-radius: 7px;\n  padding: 40px;\n`;\n\nconst Button = styled.button`\n  background: #5469d4;\n  font-family: Arial, sans-serif;\n  color: #ffffff;\n  border-radius: 4px;\n  border: 0;\n  padding: 12px 16px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  display: block;\n  transition: all 0.2s ease;\n  box-shadow: 0px 4px 5.5px 0px rgba(0, 0, 0, 0.07);\n  width: 100%;\n`;\n\nexport default function CheckoutForm() {\n  const currentUser = useAuth();\n\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    if (!stripe) {\n      return;\n    }\n\n    const clientSecret = new URLSearchParams(window.location.search).get(\n      \"payment_intent_client_secret\"\n    );\n\n    if (!clientSecret) {\n      return;\n    }\n\n    stripe.retrievePaymentIntent(clientSecret).then(({ paymentIntent }) => {\n      switch (paymentIntent.status) {\n        case \"succeeded\":\n          setMessage(\"Payment succeeded!\");\n          break;\n        case \"processing\":\n          setMessage(\"Your payment is processing.\");\n          break;\n        case \"requires_payment_method\":\n          setMessage(\"Your payment was not successful, please try again.\");\n          break;\n        default:\n          setMessage(\"Something went wrong.\");\n          break;\n      }\n    });\n  }, [stripe]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!stripe || !elements) {\n      // Stripe.js has not yet loaded.\n      // Make sure to disable form submission until Stripe.js has loaded.\n      return;\n    }\n\n    setIsLoading(true);\n\n    const { error } = await stripe.confirmPayment({\n      elements,\n      confirmParams: {\n        // Make sure to change this to your payment completion page\n        return_url: \"http://localhost:3000/my-orders\",\n        receipt_email: email,\n      },\n    });\n\n    // This point will only be reached if there is an immediate error when\n    // confirming the payment. Otherwise, your customer will be redirected to\n    // your `return_url`. For some payment methods like iDEAL, your customer will\n    // be redirected to an intermediate site first to authorize the payment, then\n    // redirected to the `return_url`.\n    if (error.type === \"card_error\" || error.type === \"validation_error\") {\n      setMessage(error.message);\n    } else {\n      setMessage(\"An unexpected error occured.\");\n    }\n\n    setIsLoading(false);\n  };\n\n  const saveOrder = () => {\n    const db = getDatabase();\n    const pictureRef = ref(db, \"cart\");\n\n    const picturesList = [];\n\n    onValue(pictureRef, (snapshot) => {\n      const pictures = snapshot.val();\n      for (let id in pictures) {\n        if (pictures[id].userUID === currentUser?.uid) {\n          picturesList.push({ id, ...pictures[id] });\n        }\n      }\n    });\n\n    let date = new Date();\n    let orderDate =\n      String(date.getDate()).padStart(2, \"0\") +\n      \"/\" +\n      String(date.getMonth() + 1).padStart(2, \"0\") +\n      \"/\" +\n      date.getFullYear();\n\n    for (let i = 0; i < picturesList.length; i++) {\n      set(ref(db, \"order/\" + picturesList[i].id), {\n        userUID: currentUser.uid,\n        pictureName: picturesList[i].pictureName,\n        pallete: picturesList[i].pallete,\n        pictureImage: picturesList[i].pictureImage,\n        size: picturesList[i].size,\n        quantity: picturesList[i].quantity,\n        price: picturesList[i].price * picturesList[i].quantity,\n        orderDate: orderDate,\n      });\n    }\n  };\n\n  return (\n    <Form id=\"payment-form\" onSubmit={handleSubmit}>\n      <input\n        id=\"email\"\n        type=\"text\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        placeholder=\"Введите email адрес\"\n      />\n      <PaymentElement id=\"payment-element\" />\n      <h4>Цена товаров: {localStorage.getItem(\"totalPrice\")} BYN</h4>\n      <Button\n        onClick={saveOrder}\n        disabled={isLoading || !stripe || !elements}\n        id=\"submit\"\n      >\n        <span id=\"button-text\">\n          {isLoading ? (\n            <div className=\"spinner\" id=\"spinner\"></div>\n          ) : (\n            \"Оплатить\"\n          )}\n        </span>\n      </Button>\n      {/* Show any error or success messages */}\n      {message && <div id=\"payment-message\">{message}</div>}\n    </Form>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport styled from \"styled-components\";\nimport CheckoutForm from \"../components/CheckoutForm\";\nimport \"../styles/payment.css\";\n\nconst Body = styled.div`\n  font-family: -apple-system, BlinkMacSystemFont, sans-serif;\n  font-size: 16px;\n  -webkit-font-smoothing: antialiased;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  height: 100vh;\n  width: 100vw;\n`;\n\nconst stripePromise = loadStripe(\n  \"pk_test_51KcqegIFnhXg2TuzVpz6CEFrlshSX5i8SiSnTWWTwv5pW9pIcw8XD2RhIqhT2RUGgzeoThCtXenJzaupR3zaN7ad00pwnELMlw\"\n);\n\nexport default function Payment() {\n  const [clientSecret, setClientSecret] = useState(\"\");\n\n  useEffect(() => {\n    // Create PaymentIntent as soon as the page loads\n    fetch(\"/create-payment-intent\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ items: [{ id: \"xl-tshirt\" }] }),\n    })\n      .then((res) => res.json())\n      .then((data) => setClientSecret(data.clientSecret));\n  }, []);\n\n  const appearance = {\n    theme: \"stripe\",\n  };\n  const options = {\n    clientSecret,\n    appearance,\n  };\n\n  return (\n    <Body>\n      {clientSecret && (\n        <Elements options={options} stripe={stripePromise}>\n          <CheckoutForm />\n        </Elements>\n      )}\n    </Body>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"../styles/my-image.css\";\nimport { getDatabase, ref, onValue, set, push } from \"firebase/database\";\nimport { useAuth } from \"../firebase\";\nimport translate from \"../i18n/translate\";\n\nfunction MyOrders() {\n  const currentUser = useAuth();\n\n  const history = useHistory();\n\n  if (currentUser === null) {\n    history.push(\"/authorization\");\n  }\n\n  const [picturesList, setPicturesList] = useState();\n\n\n  useEffect(() => {\n    const db = getDatabase();\n\n    const pictureRef1 = ref(db, \"order\");\n    onValue(pictureRef1, (snapshot) => {\n      const pictures1 = snapshot.val();\n      const picturesList1 = [];\n      for (let id in pictures1) {\n        if (pictures1[id].userUID === currentUser?.uid) {\n          picturesList1.push({ id, ...pictures1[id] });\n        }\n      }\n\n      if(picturesList1.length !== 0){\n        const pictureListRef = ref(db, \"orders\");\n\n        for (let i = 0; i < picturesList1.length; i++) {\n          const newPictureRef = push(pictureListRef);\n          set(newPictureRef, {\n            userUID: currentUser.uid,\n            pictureName: picturesList1[i].pictureName,\n            pallete: picturesList1[i].pallete,\n            pictureImage: picturesList1[i].pictureImage,\n            size: picturesList1[i].size,\n            quantity: picturesList1[i].quantity,\n            price: picturesList1[i].price,\n            orderDate: picturesList1[i].orderDate,\n          });\n        }\n\n        set(pictureRef1, null);\n        const pictureRef2 = ref(db, \"cart\");\n        set(pictureRef2, null);\n      }\n    });\n\n    const pictureRef = ref(db, \"orders\");\n    onValue(pictureRef, (snapshot) => {\n      const pictures = snapshot.val();\n      const picturesList = [];\n      for (let id in pictures) {\n        if (pictures[id].userUID === currentUser?.uid) {\n          picturesList.push({ id, ...pictures[id] });\n        }\n      }\n      setPicturesList(picturesList);\n    });\n  }, [currentUser?.uid]);\n\n  function ImageItem({ picture, id }) {\n    return (\n      <div className=\"pizza-block\">\n        <h4 className=\"pizza-block__title\">{picture.pictureName}</h4>\n        <img\n          className=\"pizza-block__image\"\n          src={picture.pictureImage}\n          alt=\"Pizza\"\n        />\n        <br />\n        <div className=\"swatchHolder\">\n          <ul>\n            {picture.pallete.map((colour, index) => {\n              return (\n                <li\n                  key={colour}\n                  style={{\n                    backgroundColor: colour,\n                  }}\n                >\n                  {index}\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n        <h6>\n          ID заказа: {picture.id}\n        </h6>\n        <h6>\n          Цена заказа: {picture.price} byn\n        </h6>\n        <h6>\n          Количество товаров: {picture.quantity}\n        </h6>\n        <h6>\n          Размер товара:{\" \"}\n          {picture.size === 0 ? 50 : picture.size === 1 ? 65 : 80} см.\n        </h6>\n        <h6>\n          Дата заказа: {picture.orderDate}\n        </h6>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"content\">\n        <div className=\"container\">\n          <h2 className=\"content__title\">{translate(\"myOrders\")}</h2>\n          <div className=\"content__items\">\n            {picturesList ? (\n              picturesList.map((picture, index) => {\n                return <ImageItem picture={picture} id={index} />;\n              })\n            ) : (\n              <h1>{translate(\"loadOrders\")}</h1>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MyOrders;\n","import React from \"react\";\nimport Layout from \"./components/Layout\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Converter from \"./Converter\";\nimport ColoringPicture from \"./components/ColoringPicture\";\nimport { I18nProvider } from \"./i18n\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { setLanguage } from \"./reducers/languageReducer\";\nimport { LOCALES } from \"./i18n\";\nimport Authorization from \"./pages/Authentication/Authorization\";\nimport Registration from \"./pages/Authentication/Registration\";\nimport Myimage from \"./components/MyImage\";\nimport Cart from \"./pages/Cart\";\nimport MyProfile from \"./components/MyProfile\";\nimport ReestablishPassword from \"./components/ReestablishPassword\";\nimport Info from \"./components/Info\";\nimport Payment from \"./pages/Payment\";\nimport MyOrders from \"./components/MyOrders\";\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  if (localStorage.getItem(\"language\") === null) {\n    dispatch(setLanguage(LOCALES.RUSSIAN));\n    localStorage.setItem(\"language\", LOCALES.RUSSIAN);\n  }\n\n  dispatch(setLanguage(localStorage.getItem(\"language\")));\n  const language = useSelector((state) => state.repos.language);\n\n  return (\n    <I18nProvider locale={language}>\n      <Layout>\n        <Switch>\n          <Route path=\"/\" exact>\n            <Home />\n          </Route>\n          <Route path=\"/converter\">\n            <Converter />\n          </Route>\n          <Route path=\"/сoloring-a-picture\">\n            <ColoringPicture />\n          </Route>\n          <Route path=\"/shopping-cart\">\n            <Cart />\n          </Route>\n          <Route path=\"/authorization\">\n            <Authorization />\n          </Route>\n          <Route path=\"/registration\">\n            <Registration />\n          </Route>\n          <Route path=\"/profile\">\n            <MyProfile />\n          </Route>\n          <Route path=\"/my-image\">\n            <Myimage />\n          </Route>\n          <Route path=\"/my-orders\">\n            <MyOrders/>\n          </Route>\n          <Route path=\"/reset-password\">\n            <ReestablishPassword />\n          </Route>\n          <Route path=\"/info\">\n            <Info />\n          </Route>\n          <Route path=\"/checkout\">\n            <Payment />\n          </Route>\n        </Switch>\n      </Layout>\n    </I18nProvider>\n  );\n}\n\nexport default App;\n","import { combineReducers } from \"redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport languageReducer from \"./languageReducer\";\n\nconst rootReducer = combineReducers({\n  repos: languageReducer,\n});\n\nexport const store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.scss\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { store } from './reducers';\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2XAj3\",\"header__content\":\"Header_header__content__1tKvN\",\"header__content__logo\":\"Header_header__content__logo__3o3BR\",\"header__content__nav\":\"Header_header__content__nav__KC6tz\",\"isMenu\":\"Header_isMenu__3rkX1\",\"header__content__toggle\":\"Header_header__content__toggle__3ySXU\"};"],"sourceRoot":""}